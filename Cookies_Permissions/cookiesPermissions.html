<!DOCTYPE HTML>
<meta charset="utf-8"/>
<title>Cookies Permissions [0.2.1pre7 - 2020-02-17]</title>
<body>
<a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ECookies%20Permissions%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABTVBMVEW2XQONRwG6XwSJRQGEQwC+YQS8YAXbnVu2XQO+YQSlaCqJRQGxWwPIgTfTij+MRgGNRwG3XgStbCyTSgGEQwCHRAC/YgS7gEa6XwSDQgDruH6CQgCsVwO/YgSCQgClVALKlF6YTQKfUAK/YgTao2rPl1/zyJPMgDPltIC/YgTeq3a4XgSuZyLMlFyRSQHns3fbp3OCQgDZpnLir3visHxFIwFHJAH0ypfpuofwxJHqvInltYLfrXr40J3816TerHn2zZq8dzDisX7tvIPxxJHTk1Hen1rsv4yseVHgr3zrvInvw5D1zZryyJX81qPcp27vwY3dqXbDoG3zx5PXlE+ATSTzypd7TCbrt3pxOByAVivIhkPYnWHalkzXlVDyxpLmtoPdn13js4Dnt4KEXi/50p/hr3yka0jhp2q7kWP+26jbp3P3z5y5jWHuwY4DqlWBAAAAN3RSTlMAAAAAAAB0zgkJ2BhDurOcDHjRUQygPeIRWOOffoXAn/GOpW7o7fnz+gD6tPr60fT7APz8+wAAOKgm0AAAAN9JREFUeF5Fy7WWwzAUANHnJGsKMzMu80rGMPMyM9P/l5HsIsU0c84FsKyQhFA+mcyHBAuYI8K6YqVSzMVGzMF7OTT5Pp4gzsvTsepwDvVX9KbpQ6fD8Ovlu87lTJK+RoWE4bdPHppPp2dd9LuWXvrP+xd5vJMD6jXDt297uJiFRGFUu5aon94MVJ8f0pW///PuBfHzejXs9kDuAMkYt7A8/tkQg3YGskWMrxRF6eHNrWjAyoDfpz4OGo1n6ndtZHjc4Wr//aNPPUMHYw+Kmb39DPXmsAai8VQqTjwZh0cL4ugpwrmAcvYAAAAASUVORK5CYII%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B//%20http%3A//infocatcher.ucoz.net/js/cb/cookiesPermissions.js%0A//%20https%3A//forum.mozilla-russia.org/viewtopic.php%3Fid%3D56039%0A//%20https%3A//github.com/Infocatcher/Custom_Buttons/tree/master/Cookies_Permissions%0A%0A//%20Cookies%20Permissions%20button%20for%20Custom%20Buttons%0A//%20%28code%20for%20%22initialization%22%20section%29%0A%0A//%20%28c%29%20Infocatcher%202010-2020%0A//%20version%200.2.1pre7%20-%202020-02-17%0A%0Avar%20%7BComponents%7D%20%3D%20window%3B%20//%20Prevent%20garbage%20collection%20in%20Firefox%203.6%20and%20older%0A%0Avar%20cp%20%3D%20Components.interfaces.nsICookiePermission%3B%0Avar%20options%20%3D%20%7B%0A%09removeUnprotectedCookiesEnabled%3A%20false%2C%0A%09//%20true%20%20-%20periodically%20remove%20unprotected%20cookies%20by%20default%0A%09//%20false%20-%20don%27t%20remove%20by%20default%0A%09removeUnprotectedCookiesInterval%3A%2010*60*1000%2C%0A%09//%20Periodically%20remove%20unprotected%20cookies%20%28leave%20only%20cookies%20with%20%22Allow%22%20permission%29%0A%09//%20Time%20in%20milliseconds%20like%2030*60*1000%20%2830%20minutes%29%20or%20-1%20to%20disable%0A%09removeAllUnprotectedCookies%3A%20false%2C%0A%09//%20true%20%20-%20periodically%20%28%22removeUnprotectedCookiesInterval%22%20option%29%20remove%20all%20unprotected%20cookies%0A%09//%20false%20-%20or%20exclude%20cookies%20from%20opened%20sites%0A%09showTempPermissions%3A%20true%2C%20//%20Show%20items%20about%20temporary%20permissions%20%28only%20Gecko%202.0+%29%0A%09tempExpire%3A%20-1%2C%20//%20Type%20of%20temporary%20permissions%0A%09//%20-1%20-%20session%2C%20otherwise%20-%20expire%20after%20given%20time%20%28in%20milliseconds%29%0A%09useBaseDomain%3A%20%7B%0A%09%09//%200%20-%20use%20full%20domain%20name%3A%20addons.mozilla.org%2C%20www.google.com%0A%09%09//%201%20-%20strip%20%22www.%22%20prefix%20from%20full%20domain%20name%3A%20addons.mozilla.org%2C%20google.com%0A%09%09//%202%20-%20use%20top-level%20domains%20%28TLDs%29%3A%20mozilla.org%2C%20google.com%0A%09%09addPermission%3A%201%2C%20//%20Add%20%28and%20toggle%29%20permission%20action%0A%09%09openPermissions%3A%200%2C%20%20//%20Filter%20in%20%22Show%20Exceptions%22%20window%0A%09%09showCookies%3A%202%2C%20//%20Filter%20in%20%22Show%20Cookies%22%20window%0A%09%09removeCurrentSiteCookies%3A%202%2C%20//%20For%20%22Remove%20All%20Current%20Site%20Cookies%22%20action%0A%09%09preserveCurrentSitesCookies%3A%202%20//%20For%20%22removeAllUnprotectedCookies%3A%20false%22%0A%09%7D%2C%0A%09showDefaultPolicy%3A%20true%2C%20//%20Show%20default%20cookies%20policy%0A%09toggleMode%3A%20%5Bcp.ACCESS_ALLOW%2C%20cp.ACCESS_DENY%2C%20cp.ACCESS_DEFAULT%5D%2C%0A%09//%20ACCESS_DENY%2C%20ACCESS_SESSION%2C%20ACCESS_ALLOW%20or%20ACCESS_DEFAULT%0A%09useCookiesManagerPlus%3A%20true%2C%20//%20https%3A//addons.mozilla.org/firefox/addon/cookies-manager-plus/%0A%09reusePermissionsWindow%3A%20false%2C%20//%20Use%20any%20already%20opened%20permissions%20window%0A%09//%20E.g.%20%22Show%20Exceptions%22%20may%20convert%20%22Allowed%20Sites%20-%20Add-ons%20Installation%22%20to%20%22Exceptions%20-%20Cookies%22%0A%09prefillMode%3A%201%2C%20//%200%20-%20move%20caret%20to%20start%2C%201%20-%20select%20all%2C%202%20-%20move%20caret%20to%20end%0A%09confirmRemoval%3A%20true%2C%0A%09moveToStatusBar%3A%20%7B%0A%09%09//%20Move%20button%20to%20Status%20Bar%2C%20only%20for%20SeaMonkey%20or%20Firefox%20%3C%204.0%0A%09%09//%20Be%20careful%2C%20has%20some%20side-effects%20and%20button%20can%27t%20be%20edited%20w/o%20restart%0A%09%09enabled%3A%20false%2C%0A%09%09insertAfter%3A%20%22download-monitor%2CpopupIcon%2Cstatusbar-progresspanel%22%0A%09%09//%20Like%20https%3A//developer.mozilla.org/en-US/docs/XUL/Attribute/insertafter%0A%09%09//%20Also%20looks%20for%20nodes%20with%20%22cb_id%22%20attribute%0A%09%7D%0A%7D%3B%0A%0Afunction%20_localize%28sid%29%20%7B%0A%09var%20strings%20%3D%20%7B%0A%09%09en%3A%20%7B%0A%09%09%09defaultTooltiptext%3A%20%22Cookies%3A%20Default%22%2C%0A%09%09%09denyTooltiptext%3A%20%22Cookies%3A%20Block%22%2C%0A%09%09%09allowSessionTooltiptext%3A%20%22Cookies%3A%20Allow%20for%20Session%22%2C%0A%09%09%09allowTooltiptext%3A%20%22Cookies%3A%20Allow%22%2C%0A%09%09%09notAvailableTooltiptext%3A%20%22Cookies%3A%20n/a%22%2C%0A%09%09%09unknownTooltiptext%3A%20%22Cookies%3A%20%3F%3F%3F%22%2C%0A%09%09%09errorTooltiptext%3A%20%22Cookies%3A%20Error%21%22%2C%0A%0A%09%09%09defaultDenyTooltiptext%3A%20%22Cookies%3A%20Block%20%28Default%29%22%2C%0A%09%09%09defaultAllowSessionTooltiptext%3A%20%22Cookies%3A%20Allow%20for%20Session%20%28Default%29%22%2C%0A%09%09%09defaultAllowTooltiptext%3A%20%22Cookies%3A%20Allow%20%28Default%29%22%2C%0A%0A%09%09%09defaultLabel%3A%20%22Default%22%2C%0A%09%09%09defaultAccesskey%3A%20%22D%22%2C%0A%09%09%09denyLabel%3A%20%22Block%22%2C%0A%09%09%09denyAccesskey%3A%20%22B%22%2C%0A%09%09%09denyTempLabel%3A%20%22Temporarily%20Block%22%2C%0A%09%09%09denyTempAccesskey%3A%20%22k%22%2C%0A%09%09%09allowSessionLabel%3A%20%22Allow%20for%20Session%22%2C%0A%09%09%09allowSessionAccesskey%3A%20%22S%22%2C%0A%09%09%09allowSessionTempLabel%3A%20%22Temporarily%20Allow%20for%20Session%22%2C%0A%09%09%09allowSessionTempAccesskey%3A%20%22e%22%2C%0A%09%09%09allowLabel%3A%20%22Allow%22%2C%0A%09%09%09allowAccesskey%3A%20%22A%22%2C%0A%09%09%09allowTempLabel%3A%20%22Temporarily%20Allow%22%2C%0A%09%09%09allowTempAccesskey%3A%20%22w%22%2C%0A%0A%09%09%09showPermissionsLabel%3A%20%22Show%20Exceptions%u2026%22%2C%0A%09%09%09showPermissionsAccesskey%3A%20%22x%22%2C%0A%09%09%09showCookiesLabel%3A%20%22Show%20Cookies%u2026%22%2C%0A%09%09%09showCookiesAccesskey%3A%20%22h%22%2C%0A%09%09%09removeTempPermissionsLabel%3A%20%22Remove%20Temporary%20Permissions%22%2C%0A%09%09%09removeTempPermissionsAccesskey%3A%20%22T%22%2C%0A%09%09%09autoRemoveUnprotectedCookiesLabel%3A%20%22Automatically%20Remove%20Unprotected%20Cookies%22%2C%0A%09%09%09autoRemoveUnprotectedCookiesTip%3A%20%22Periodically%20remove%20unprotected%20cookies%20%28if%20checked%29%22%2C%0A%09%09%09autoRemoveUnprotectedCookiesAccesskey%3A%20%22n%22%2C%0A%09%09%09removeUnprotectedCookiesLabel%3A%20%22Remove%20Unprotected%20Cookies%22%2C%0A%09%09%09removeUnprotectedCookiesTip%3A%20%22Except%20cookies%20marked%20as%20%u201CAllow%u201D%20and%20except%20cookies%20from%20opened%20sites%22%2C%0A%09%09%09removeUnprotectedCookiesAccesskey%3A%20%22U%22%2C%0A%09%09%09removeUnprotectedCookiesConfirm%3A%20%22Remove%20unprotected%20cookies%3F%22%2C%0A%09%09%09removeAllUnprotectedCookiesLabel%3A%20%22Remove%20All%20Unprotected%20Cookies%22%2C%0A%09%09%09removeAllUnprotectedCookiesTip%3A%20%22Except%20cookies%20marked%20as%20%u201CAllow%u201D%3B%20unprotected%20cookies%20from%20opened%20sites%20will%20be%20removed%22%2C%0A%09%09%09removeAllUnprotectedCookiesAccesskey%3A%20%22R%22%2C%0A%09%09%09removeAllUnprotectedCookiesConfirm%3A%20%22Remove%20ALL%20unprotected%20cookies%3F%22%2C%0A%09%09%09removeCurrentSiteCookiesLabel%3A%20%22Remove%20All%20Current%20Site%20Cookies%22%2C%0A%09%09%09removeCurrentSiteCookiesAccesskey%3A%20%22C%22%2C%0A%09%09%09removeCurrentSiteCookiesConfirm%3A%20%22Remove%20ALL%20current%20site%20cookies%3F%22%2C%0A%09%09%09removeAllCookiesLabel%3A%20%22Remove%20ALL%20Cookies%22%2C%0A%09%09%09removeAllCookiesAccesskey%3A%20%22L%22%2C%0A%09%09%09removeAllCookiesConfirm%3A%20%22Remove%20ALL%20cookies%3F%22%2C%0A%0A%09%09%09buttonMenu%3A%20%22Button%20Menu%22%2C%0A%09%09%09buttonMenuAccesskey%3A%20%22M%22%0A%09%09%7D%2C%0A%09%09ru%3A%20%7B%0A%09%09%09defaultTooltiptext%3A%20%22Cookies%3A%20%u041F%u043E%20%u0443%u043C%u043E%u043B%u0447%u0430%u043D%u0438%u044E%22%2C%0A%09%09%09denyTooltiptext%3A%20%22Cookies%3A%20%u0411%u043B%u043E%u043A%u0438%u0440%u043E%u0432%u0430%u0442%u044C%22%2C%0A%09%09%09allowSessionTooltiptext%3A%20%22Cookies%3A%20%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%20%u043D%u0430%20%u0441%u0435%u0441%u0441%u0438%u044E%22%2C%0A%09%09%09allowTooltiptext%3A%20%22Cookies%3A%20%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%22%2C%0A%09%09%09notAvailableTooltiptext%3A%20%22Cookies%3A%20%u043D/%u0434%22%2C%0A%09%09%09unknownTooltiptext%3A%20%22Cookies%3A%20%3F%3F%3F%22%2C%0A%09%09%09errorTooltiptext%3A%20%22Cookies%3A%20%u041E%u0448%u0438%u0431%u043A%u0430%21%22%2C%0A%0A%09%09%09defaultDenyTooltiptext%3A%20%22Cookies%3A%20%u0411%u043B%u043E%u043A%u0438%u0440%u043E%u0432%u0430%u0442%u044C%20%28%u043F%u043E%20%u0443%u043C%u043E%u043B%u0447%u0430%u043D%u0438%u044E%29%22%2C%0A%09%09%09defaultAllowSessionTooltiptext%3A%20%22Cookies%3A%20%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%20%u043D%u0430%20%u0441%u0435%u0441%u0441%u0438%u044E%20%28%u043F%u043E%20%u0443%u043C%u043E%u043B%u0447%u0430%u043D%u0438%u044E%29%22%2C%0A%09%09%09defaultAllowTooltiptext%3A%20%22Cookies%3A%20%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%20%28%u043F%u043E%20%u0443%u043C%u043E%u043B%u0447%u0430%u043D%u0438%u044E%29%22%2C%0A%0A%09%09%09defaultLabel%3A%20%22%u041F%u043E%20%u0443%u043C%u043E%u043B%u0447%u0430%u043D%u0438%u044E%22%2C%0A%09%09%09defaultAccesskey%3A%20%22%u0443%22%2C%0A%09%09%09denyLabel%3A%20%22%u0411%u043B%u043E%u043A%u0438%u0440%u043E%u0432%u0430%u0442%u044C%22%2C%0A%09%09%09denyAccesskey%3A%20%22%u0411%22%2C%0A%09%09%09denyTempLabel%3A%20%22%u0412%u0440%u0435%u043C%u0435%u043D%u043D%u043E%20%u0431%u043B%u043E%u043A%u0438%u0440%u043E%u0432%u0430%u0442%u044C%22%2C%0A%09%09%09denyTempAccesskey%3A%20%22%u043B%22%2C%0A%09%09%09allowSessionLabel%3A%20%22%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%20%u043D%u0430%20%u0441%u0435%u0441%u0441%u0438%u044E%22%2C%0A%09%09%09allowSessionAccesskey%3A%20%22%u0441%22%2C%0A%09%09%09allowSessionTempLabel%3A%20%22%u0412%u0440%u0435%u043C%u0435%u043D%u043D%u043E%20%u0440%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%20%u043D%u0430%20%u0441%u0435%u0441%u0441%u0438%u044E%22%2C%0A%09%09%09allowSessionTempAccesskey%3A%20%22%u0435%22%2C%0A%09%09%09allowLabel%3A%20%22%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%22%2C%0A%09%09%09allowAccesskey%3A%20%22%u0420%22%2C%0A%09%09%09allowTempLabel%3A%20%22%u0412%u0440%u0435%u043C%u0435%u043D%u043D%u043E%20%u0440%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%22%2C%0A%09%09%09allowTempAccesskey%3A%20%22%u0448%22%2C%0A%0A%09%09%09showPermissionsLabel%3A%20%22%u041F%u043E%u043A%u0430%u0437%u0430%u0442%u044C%20%u0438%u0441%u043A%u043B%u044E%u0447%u0435%u043D%u0438%u044F%u2026%22%2C%0A%09%09%09showPermissionsAccesskey%3A%20%22%u0438%22%2C%0A%09%09%09showCookiesLabel%3A%20%22%u041F%u043E%u043A%u0430%u0437%u0430%u0442%u044C%20cookies%u2026%22%2C%0A%09%09%09showCookiesAccesskey%3A%20%22%u041F%22%2C%0A%09%09%09removeTempPermissionsLabel%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0432%u0440%u0435%u043C%u0435%u043D%u043D%u044B%u0435%20%u0438%u0441%u043A%u043B%u044E%u0447%u0435%u043D%u0438%u044F%22%2C%0A%09%09%09removeTempPermissionsAccesskey%3A%20%22%u044B%22%2C%0A%09%09%09autoRemoveUnprotectedCookiesLabel%3A%20%22%u0410%u0432%u0442%u043E%u043C%u0430%u0442%u0438%u0447%u0435%u0441%u043A%u0438%20%u0443%u0434%u0430%u043B%u044F%u0442%u044C%20%u043D%u0435%u0437%u0430%u0449%u0438%u0449%u0451%u043D%u043D%u044B%u0435%20cookies%22%2C%0A%09%09%09autoRemoveUnprotectedCookiesTip%3A%20%22%u041F%u0435%u0440%u0438%u043E%u0434%u0438%u0447%u0435%u0441%u043A%u0438%20%u0443%u0434%u0430%u043B%u044F%u0442%u044C%20%u043D%u0435%u0437%u0430%u0449%u0438%u0449%u0451%u043D%u043D%u044B%u0435%20cookies%20%28%u0435%u0441%u043B%u0438%20%u0443%u0441%u0442%u0430%u043D%u043E%u0432%u043B%u0435%u043D%u0430%20%u0433%u0430%u043B%u043E%u0447%u043A%u0430%29%22%2C%0A%09%09%09autoRemoveUnprotectedCookiesAccesskey%3A%20%22%u0410%22%2C%0A%09%09%09removeUnprotectedCookiesLabel%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u043D%u0435%u0437%u0430%u0449%u0438%u0449%u0451%u043D%u043D%u044B%u0435%20cookies%22%2C%0A%09%09%09removeUnprotectedCookiesTip%3A%20%22%u0418%u0441%u043A%u043B%u044E%u0447%u0430%u044F%20cookies%2C%20%u043F%u043E%u043C%u0435%u0447%u0435%u043D%u043D%u044B%u0435%20%u043A%u0430%u043A%20%AB%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%BB%2C%20%u0438%20%u0438%u0441%u043A%u043B%u044E%u0447%u0430%u044F%20cookies%20%u0438%u0437%20%u043E%u0442%u043A%u0440%u044B%u0442%u044B%u0445%20%u0441%u0430%u0439%u0442%u043E%u0432%22%2C%0A%09%09%09removeUnprotectedCookiesAccesskey%3A%20%22%u043D%22%2C%0A%09%09%09removeUnprotectedCookiesConfirm%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u043D%u0435%u0437%u0430%u0449%u0438%u0449%u0451%u043D%u043D%u044B%u0435%20cookies%3F%22%2C%0A%09%09%09removeAllUnprotectedCookiesLabel%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0432%u0441%u0435%20%u043D%u0435%u0437%u0430%u0449%u0438%u0449%u0451%u043D%u043D%u044B%u0435%20cookies%22%2C%0A%09%09%09removeAllUnprotectedCookiesTip%3A%20%22%u0418%u0441%u043A%u043B%u044E%u0447%u0430%u044F%20cookies%2C%20%u043F%u043E%u043C%u0435%u0447%u0435%u043D%u043D%u044B%u0435%20%u043A%u0430%u043A%20%AB%u0420%u0430%u0437%u0440%u0435%u0448%u0438%u0442%u044C%BB%3B%20%u043D%u0435%u0437%u0430%u0449%u0438%u0449%u0451%u043D%u043D%u044B%u0435%20cookies%20%u0438%u0437%20%u043E%u0442%u043A%u0440%u044B%u0442%u044B%u0445%20%u0441%u0430%u0439%u0442%u043E%u0432%20%u0431%u0443%u0434%u0443%u0442%20%u0443%u0434%u0430%u043B%u0435%u043D%u044B%22%2C%0A%09%09%09removeAllUnprotectedCookiesAccesskey%3A%20%22%u0434%22%2C%0A%09%09%09removeAllUnprotectedCookiesConfirm%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0412%u0421%u0415%20%u043D%u0435%u0437%u0430%u0449%u0438%u0449%u0451%u043D%u043D%u044B%u0435%20cookies%3F%22%2C%0A%09%09%09removeCurrentSiteCookiesLabel%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0432%u0441%u0435%20cookies%20%u0442%u0435%u043A%u0443%u0449%u0435%u0433%u043E%20%u0441%u0430%u0439%u0442%u0430%22%2C%0A%09%09%09removeCurrentSiteCookiesAccesskey%3A%20%22%u0432%22%2C%0A%09%09%09removeCurrentSiteCookiesConfirm%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0432%u0441%u0435%20cookies%20%u0442%u0435%u043A%u0443%u0449%u0435%u0433%u043E%20%u0441%u0430%u0439%u0442%u0430%3F%22%2C%0A%09%09%09removeAllCookiesLabel%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0412%u0421%u0415%20cookies%22%2C%0A%09%09%09removeAllCookiesAccesskey%3A%20%22%u0415%22%2C%0A%09%09%09removeAllCookiesConfirm%3A%20%22%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0412%u0421%u0415%20cookies%3F%22%2C%0A%0A%09%09%09buttonMenu%3A%20%22%u041C%u0435%u043D%u044E%20%u043A%u043D%u043E%u043F%u043A%u0438%22%2C%0A%09%09%09buttonMenuAccesskey%3A%20%22%u041C%22%0A%09%09%7D%0A%09%7D%3B%0A%09var%20locale%20%3D%20%28function%28%29%20%7B%0A%09%09if%28%22Services%22%20in%20window%20%26%26%20%22locale%22%20in%20Services%29%20%7B%0A%09%09%09var%20locales%20%3D%20Services.locale.requestedLocales%20//%20Firefox%2064+%0A%09%09%09%09%7C%7C%20Services.locale.getRequestedLocales%20%26%26%20Services.locale.getRequestedLocales%28%29%3B%0A%09%09%09if%28locales%29%0A%09%09%09%09return%20locales%5B0%5D%3B%0A%09%09%7D%0A%09%09var%20prefs%20%3D%20%22Services%22%20in%20window%20%26%26%20Services.prefs%0A%09%09%09%7C%7C%20Components.classes%5B%22@mozilla.org/preferences-service%3B1%22%5D%0A%09%09%09%09.getService%28Components.interfaces.nsIPrefBranch%29%3B%0A%09%09function%20pref%28name%2C%20type%29%20%7B%0A%09%09%09return%20prefs.getPrefType%28name%29%20%21%3D%20prefs.PREF_INVALID%20%3F%20prefs%5B%22get%22%20+%20type%20+%20%22Pref%22%5D%28name%29%20%3A%20undefined%3B%0A%09%09%7D%0A%09%09if%28%21pref%28%22intl.locale.matchOS%22%2C%20%22Bool%22%29%29%20%7B%20//%20Also%20see%20https%3A//bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1414390%0A%09%09%09var%20locale%20%3D%20pref%28%22general.useragent.locale%22%2C%20%22Char%22%29%3B%0A%09%09%09if%28locale%20%26%26%20locale.substr%280%2C%209%29%20%21%3D%20%22chrome%3A//%22%29%0A%09%09%09%09return%20locale%3B%0A%09%09%7D%0A%09%09return%20Components.classes%5B%22@mozilla.org/chrome/chrome-registry%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIXULChromeRegistry%29%0A%09%09%09.getSelectedLocale%28%22global%22%29%3B%0A%09%7D%29%28%29.match%28/%5E%5Ba-z%5D*/%29%5B0%5D%3B%0A%09_localize%20%3D%20function%28sid%29%20%7B%0A%09%09return%20strings%5Blocale%5D%20%26%26%20strings%5Blocale%5D%5Bsid%5D%20%7C%7C%20strings.en%5Bsid%5D%20%7C%7C%20sid%3B%0A%09%7D%3B%0A%09return%20_localize.apply%28this%2C%20arguments%29%3B%0A%7D%0A%0Athis.onclick%20%3D%20function%28e%29%20%7B%0A%09if%28e.target%20%21%3D%20this%29%0A%09%09return%3B%0A%09var%20btn%20%3D%20e.button%3B%0A%09if%28btn%20%3D%3D%201%20%7C%7C%20btn%20%3D%3D%200%20%26%26%20this.permissions.hasModifier%28e%29%29%0A%09%09this.permissions.openPermissions%28%29%3B%0A%09else%20if%28btn%20%3D%3D%200%29%20%7B%0A%09%09this.permissions.togglePermission%28this.permissions.options.toggleMode%29%3B%0A%09%09//%20Prevent%20%22command%22%20event%20to%20use%20%22command%22%20section%20only%20from%20hotkey%0A%09%09e.preventDefault%28%29%3B%0A%09%09e.stopPropagation%28%29%3B%0A%09%7D%0A%7D%3B%0Aif%28%21this.hasOwnProperty%28%22defaultContextId%22%29%29%0A%09this.defaultContextId%20%3D%20this.getAttribute%28%22context%22%29%20%7C%7C%20%22custombuttons-contextpopup%22%3B%0Athis.oncontextmenu%20%3D%20function%28e%29%20%7B%0A%09if%28e.target%20%21%3D%20this%29%0A%09%09return%3B%0A%09this.permissions.initContextOnce%28%29%3B%0A%09this.setAttribute%28%0A%09%09%22context%22%2C%0A%09%09this.permissions.hasModifier%28e%29%0A%09%09%09%3F%20this.defaultContextId%0A%09%09%09%3A%20this.permissions.mpId%0A%09%29%3B%0A%7D%3B%0A%0Athis.permissions%20%3D%20%7B%0A%09permissionType%3A%20%22cookie%22%2C%0A%09timerId%3A%20%22customButtonsCookiesCleanupTimer%22%2C%0A%09timer%3A%20null%2C%0A%09popupClass%3A%20%22cbCookiesPermissionsPopup%22%2C%0A%0A%09button%3A%20this%2C%0A%09options%3A%20options%2C%0A%0A%09cp%3A%20Components.interfaces.nsICookiePermission%2C%0A%09PERMISSIONS_NOT_SUPPORTED%3A%20-1%2C%0A%09PERMISSIONS_ERROR%3A%20%20%20%20%20%20%20%20%20-2%2C%0A%0A%09errPrefix%3A%20%22%5BCustom%20Buttons%20%3A%3A%20Cookies%20Permissions%5D%20%22%2C%0A%0A%09get%20pm%28%29%20%7B%0A%09%09delete%20this.pm%3B%0A%09%09return%20this.pm%20%3D%20Components.classes%5B%22@mozilla.org/permissionmanager%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIPermissionManager%29%3B%0A%09%7D%2C%0A%09get%20cm%28%29%20%7B%0A%09%09delete%20this.cm%3B%0A%09%09return%20this.cm%20%3D%20Components.classes%5B%22@mozilla.org/cookiemanager%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsICookieManager%29%3B%0A%09%7D%2C%0A%09get%20io%28%29%20%7B%0A%09%09delete%20this.io%3B%0A%09%09return%20this.io%20%3D%20Components.classes%5B%22@mozilla.org/network/io-service%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIIOService%29%3B%0A%09%7D%2C%0A%09get%20oSvc%28%29%20%7B%0A%09%09return%20Components.classes%5B%22@mozilla.org/observer-service%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIObserverService%29%3B%0A%09%7D%2C%0A%09get%20wm%28%29%20%7B%0A%09%09delete%20this.wm%3B%0A%09%09return%20this.wm%20%3D%20Components.classes%5B%22@mozilla.org/appshell/window-mediator%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIWindowMediator%29%3B%0A%09%7D%2C%0A%09get%20tld%28%29%20%7B%0A%09%09delete%20this.tld%3B%0A%09%09return%20this.tld%20%3D%20Components.classes%5B%22@mozilla.org/network/effective-tld-service%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIEffectiveTLDService%29%3B%0A%09%7D%2C%0A%09get%20app%28%29%20%7B%0A%09%09delete%20this.app%3B%0A%09%09return%20this.app%20%3D%20Components.classes%5B%22@mozilla.org/xre/app-info%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIXULAppInfo%29%3B%0A%09%7D%2C%0A%09get%20platformVersion%28%29%20%7B%0A%09%09var%20pv%20%3D%20parseFloat%28this.app.platformVersion%29%3B%0A%09%09if%28this.app.name%20%3D%3D%20%22Pale%20Moon%22%20%7C%7C%20this.app.name%20%3D%3D%20%22Basilisk%22%29%0A%09%09%09pv%20%3D%20pv%20%3E%3D%204.1%20%3F%2056%20%3A%2028%3B%0A%09%09delete%20this.platformVersion%3B%0A%09%09return%20this.platformVersion%20%3D%20pv%3B%0A%09%7D%2C%0A%0A%09initialized%3A%20false%2C%0A%09mp%3A%20null%2C%0A%09init%3A%20function%28%29%20%7B%0A%09%09if%28this.initialized%29%0A%09%09%09return%3B%0A%09%09this.initialized%20%3D%20true%3B%0A%0A%09%09if%28this.options.moveToStatusBar.enabled%29%0A%09%09%09this.moveToStatusBar%28%29%3B%0A%0A%09%09var%20dummy%20%3D%20function%28%29%20%7B%7D%3B%0A%09%09this.progressListener%20%3D%20%7B%0A%09%09%09context%3A%20this%2C%0A%09%09%09onStateChange%3A%20dummy%2C%0A%09%09%09onProgressChange%3A%20dummy%2C%0A%09%09%09onLocationChange%3A%20function%28aWebProgress%2C%20aRequest%2C%20aLocation%29%20%7B%0A%09%09%09%09setTimeout%28function%28_this%29%20%7B%0A%09%09%09%09%09_this.context.updButtonState%28%29%3B%0A%09%09%09%09%7D%2C%200%2C%20this%29%3B%0A%09%09%09%7D%2C%0A%09%09%09onStatusChange%3A%20dummy%2C%0A%09%09%09onSecurityChange%3A%20dummy%0A%09%09%7D%3B%0A%09%09gBrowser.addProgressListener%28this.progressListener/*%2C%20Components.interfaces.nsIWebProgress.NOTIFY_LOCATION*/%29%3B%0A%0A%09%09this.permissionsObserver%20%3D%20%7B%0A%09%09%09context%3A%20this%2C%0A%09%09%09observe%3A%20function%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09%09%09if%28topic%20%21%3D%20%22perm-changed%22%29%0A%09%09%09%09%09return%3B%0A%09%09%09%09var%20permission%20%3D%20subject.QueryInterface%28Components.interfaces.nsIPermission%29%3B%0A%09%09%09%09var%20type%20%3D%20this.context.permissionType%3B%0A%09%09%09%09if%28permission.type%20%21%3D%20type%29%0A%09%09%09%09%09return%3B%0A%09%09%09%09this.context.updButtonState%28%29%3B%0A%09%09%09%09if%28data%20%3D%3D%20%22deleted%22%29%20%7B%0A%09%09%09%09%09//%20See%20chrome%3A//browser/content/preferences/permissions.js%0A%09%09%09%09%09//%20observe%3A%20function%20%28aSubject%2C%20aTopic%2C%20aData%29%0A%09%09%09%09%09let%20win%20%3D%20this.context.wm.getMostRecentWindow%28%22Browser%3APermissions%22%29%3B%0A%09%09%09%09%09if%28win%20%26%26%20%22gPermissionManager%22%20in%20win%20%26%26%20win.gPermissionManager._type%20%3D%3D%20type%29%20%7B%0A%09%09%09%09%09%09let%20pm%20%3D%20win.gPermissionManager%3B%0A%09%09%09%09%09%09let%20perms%20%3D%20pm._permissions%3B%0A%09%09%09%09%09%09for%28let%20i%20%3D%200%2C%20l%20%3D%20perms.length%3B%20i%20%3C%20l%3B%20++i%29%20%7B%0A%09%09%09%09%09%09%09if%28this.context.getPermissionHost%28perms%5Bi%5D%29%20%3D%3D%20this.context.getPermissionHost%28permission%29%29%20%7B%0A%09%09%09%09%09%09%09%09perms.splice%28i%2C%201%29%3B%0A%09%09%09%09%09%09%09%09--pm._view._rowCount%3B%0A%09%09%09%09%09%09%09%09pm._tree.treeBoxObject.rowCountChanged%28i%2C%20-1%29%3B%0A%09%09%09%09%09%09%09%09pm._tree.treeBoxObject.invalidate%28%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%3B%0A%09%09this.oSvc.addObserver%28this.permissionsObserver%2C%20%22perm-changed%22%2C%20false%29%3B%0A%0A%09%09if%28this.options.showDefaultPolicy%29%20%7B%0A%09%09%09let%20po%20%3D%20this.prefsObserver%20%3D%20%7B%0A%09%09%09%09context%3A%20this%2C%0A%09%09%09%09get%20prefs%28%29%20%7B%0A%09%09%09%09%09delete%20this.prefs%3B%0A%09%09%09%09%09return%20this.prefs%20%3D%20Components.classes%5B%22@mozilla.org/preferences-service%3B1%22%5D%0A%09%09%09%09%09%09.getService%28Components.interfaces.nsIPrefService%29%0A%09%09%09%09%09%09.getBranch%28%22network.cookie.%22%29%0A%09%09%09%09%09%09.QueryInterface%28Components.interfaces.nsIPrefBranch2%20%7C%7C%20Components.interfaces.nsIPrefBranch%29%3B%0A%09%09%09%09%7D%2C%0A%09%09%09%09getIntPref%3A%20function%28name%29%20%7B%0A%09%09%09%09%09var%20dv%20%3D%200%3B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09return%20this.prefs.getIntPref%28name%2C%20dv%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09catch%28e%29%20%7B%0A%09%09%09%09%09%09Components.utils.reportError%28e%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09return%20dv%3B%0A%09%09%09%09%7D%2C%0A%09%09%09%09observe%3A%20function%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09%09%09%09if%28topic%20%21%3D%20%22nsPref%3Achanged%22%29%0A%09%09%09%09%09%09return%3B%0A%09%09%09%09%09if%28data%20%21%3D%20%22cookieBehavior%22%20%26%26%20data%20%21%3D%20%22lifetimePolicy%22%29%0A%09%09%09%09%09%09return%3B%0A%09%09%09%09%09this.context.prefs%5Bdata%5D%20%3D%20this.getIntPref%28data%29%3B%0A%09%09%09%09%09this.context.updButtonState%28%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%3B%0A%09%09%09this.prefs%20%3D%20%7B%0A%09%09%09%09%22cookieBehavior%22%3A%20po.getIntPref%28%22cookieBehavior%22%29%2C%0A%09%09%09%09%22lifetimePolicy%22%3A%20po.getIntPref%28%22lifetimePolicy%22%29%2C%0A%09%09%09%09__proto__%3A%20null%0A%09%09%09%7D%3B%0A%09%09%09po.prefs.addObserver%28%22%22%2C%20po%2C%20false%29%3B%0A%09%09%7D%0A%0A%09%09this.initCleanupTimer%28%29%3B%0A%09%09this.updButtonState%28%29%3B%0A%09%7D%2C%0A%09destroy%3A%20function%28%29%20%7B%0A%09%09if%28%21this.initialized%29%0A%09%09%09return%3B%0A%09%09this.initialized%20%3D%20false%3B%0A%0A%09%09gBrowser.removeProgressListener%28this.progressListener%29%3B%0A%09%09this.oSvc.removeObserver%28this.permissionsObserver%2C%20%22perm-changed%22%29%3B%0A%09%09if%28this.options.showDefaultPolicy%29%0A%09%09%09this.prefsObserver.prefs.removeObserver%28%22%22%2C%20this.prefsObserver%29%3B%0A%09%09this.progressListener%20%3D%20this.permissionsObserver%20%3D%20this.prefsObserver%20%3D%20null%3B%0A%09%7D%2C%0A%09initContextOnce%3A%20function%28%29%20%7B%0A%09%09this.initContextOnce%20%3D%20function%28%29%20%7B%7D%3B%0A%0A%09%09this.mpId%20%3D%20this.button.id%20+%20%22-context%22%3B%0A%09%09var%20cp%20%3D%20this.cp%3B%0A%09%09var%20noTempPermissions%20%3D%20%21this.options.showTempPermissions%20%7C%7C%20%21this.hasTempPermissions%3B%0A%09%09var%20mp%20%3D%20this.mp%20%3D%20this.button.appendChild%28this.parseXULFromString%28%27%5C%0A%09%09%09%3Cmenupopup%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%5C%0A%09%09%09%09id%3D%22%27%20+%20this.mpId%20+%20%27%22%5C%0A%09%09%09%09class%3D%22%27%20+%20this.popupClass%20+%20%27%22%5C%0A%09%09%09%09onpopupshowing%3D%22%5C%0A%09%09%09%09%09if%28event.target%20%21%3D%20this%29%5C%0A%09%09%09%09%09%09return%20true%3B%5C%0A%09%09%09%09%09document.popupNode%20%3D%20this.parentNode%3B%5C%0A%09%09%09%09%09return%20this.parentNode.permissions.updMenu%28%29%3B%22%5C%0A%09%09%09%09onpopuphidden%3D%22if%28event.target%20%3D%3D%20this%29%20document.popupNode%20%3D%20null%3B%22%3E%5C%0A%09%09%09%09%3Cmenuitem%20type%3D%22radio%22%20cb_permission%3D%22%27%20+%20cp.ACCESS_DEFAULT%20+%20%27%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.removePermission%28%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22defaultLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22defaultAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuseparator%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%20type%3D%22radio%22%20cb_permission%3D%22%27%20+%20cp.ACCESS_DENY%20+%20%27%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.addPermission%28Components.interfaces.nsICookiePermission.ACCESS_DENY%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22denyLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22denyAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%20type%3D%22radio%22%20cb_permission%3D%22%27%20+%20cp.ACCESS_DENY%20+%20%27-temp%22%5C%0A%09%09%09%09%09collapsed%3D%22%27%20+%20noTempPermissions%20+%20%27%22%5C%0A%09%09%09%09%09class%3D%22cbTempPermission%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.addPermission%28Components.interfaces.nsICookiePermission.ACCESS_DENY%2C%20true%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22denyTempLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22denyTempAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%20type%3D%22radio%22%20cb_permission%3D%22%27%20+%20cp.ACCESS_SESSION%20+%20%27%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.addPermission%28Components.interfaces.nsICookiePermission.ACCESS_SESSION%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22allowSessionLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22allowSessionAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%20type%3D%22radio%22%20cb_permission%3D%22%27%20+%20cp.ACCESS_SESSION%20+%20%27-temp%22%5C%0A%09%09%09%09%09collapsed%3D%22%27%20+%20noTempPermissions%20+%20%27%22%5C%0A%09%09%09%09%09class%3D%22cbTempPermission%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.addPermission%28Components.interfaces.nsICookiePermission.ACCESS_SESSION%2C%20true%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22allowSessionTempLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22allowSessionTempAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%20type%3D%22radio%22%20cb_permission%3D%22%27%20+%20cp.ACCESS_ALLOW%20+%20%27%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.addPermission%28Components.interfaces.nsICookiePermission.ACCESS_ALLOW%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22allowLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22allowAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%20type%3D%22radio%22%20cb_permission%3D%22%27%20+%20cp.ACCESS_ALLOW%20+%20%27-temp%22%5C%0A%09%09%09%09%09collapsed%3D%22%27%20+%20noTempPermissions%20+%20%27%22%5C%0A%09%09%09%09%09class%3D%22cbTempPermission%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.addPermission%28Components.interfaces.nsICookiePermission.ACCESS_ALLOW%2C%20true%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22allowTempLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22allowTempAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuseparator%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22openPermissions%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.openPermissions%28%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22showPermissionsLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22showPermissionsAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22showCookies%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.showCookiesEvent%28event%29%3B%22%5C%0A%09%09%09%09%09onclick%3D%22this.parentNode.parentNode.permissions.showCookiesEvent%28event%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22showCookiesLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22showCookiesAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuseparator%20hidden%3D%22%27%20+%20noTempPermissions%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22removeTempPermissions%22%5C%0A%09%09%09%09%09hidden%3D%22%27%20+%20noTempPermissions%20+%20%27%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.removeTempPermissions%28%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22removeTempPermissionsLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22removeTempPermissionsAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuseparator%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22autoRemoveUnprotectedCookies%22%5C%0A%09%09%09%09%09type%3D%22checkbox%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.setAutoRemove%28this.getAttribute%28%5C%27checked%5C%27%29%20%3D%3D%20%5C%27true%5C%27%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22autoRemoveUnprotectedCookiesLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09tooltiptext%3D%22%27%20+%20_localize%28%22autoRemoveUnprotectedCookiesTip%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22autoRemoveUnprotectedCookiesAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22removeUnprotectedCookies%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.confirm%28%5C%27removeUnprotectedCookiesConfirm%5C%27%2C%20%5C%27removeUnprotectedCookies%5C%27%2C%20false%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22removeUnprotectedCookiesLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09tooltiptext%3D%22%27%20+%20_localize%28%22removeUnprotectedCookiesTip%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22removeUnprotectedCookiesAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22removeAllUnprotectedCookies%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.confirm%28%5C%27removeAllUnprotectedCookiesConfirm%5C%27%2C%20%5C%27removeUnprotectedCookies%5C%27%2C%20true%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22removeAllUnprotectedCookiesLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09tooltiptext%3D%22%27%20+%20_localize%28%22removeAllUnprotectedCookiesTip%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22removeAllUnprotectedCookiesAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuseparator%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22removeCurrentSiteCookies%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.confirm%28%5C%27removeCurrentSiteCookiesConfirm%5C%27%2C%20%5C%27removeCurrentSiteCookies%5C%27%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22removeCurrentSiteCookiesLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22removeCurrentSiteCookiesAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuitem%5C%0A%09%09%09%09%09cb_id%3D%22removeAllCookies%22%5C%0A%09%09%09%09%09oncommand%3D%22this.parentNode.parentNode.permissions.confirm%28%5C%27removeAllCookiesConfirm%5C%27%2C%20%5C%27removeCookies%5C%27%29%3B%22%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22removeAllCookiesLabel%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22removeAllCookiesAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%09%3Cmenuseparator%20/%3E%5C%0A%09%09%09%09%3Cmenu%5C%0A%09%09%09%09%09label%3D%22%27%20+%20_localize%28%22buttonMenu%22%29%20+%20%27%22%5C%0A%09%09%09%09%09accesskey%3D%22%27%20+%20_localize%28%22buttonMenuAccesskey%22%29%20+%20%27%22%20/%3E%5C%0A%09%09%09%3C/menupopup%3E%27%0A%09%09%29%29%3B%0A%09%09var%20cbPopup%20%3D%20document.getElementById%28this.button.defaultContextId%29%3B%0A%09%09if%28%21cbPopup%29%0A%09%09%09Components.utils.reportError%28this.errPrefix%20+%20%22cb%20menu%20not%20found%22%29%3B%0A%09%09else%20%7B%0A%09%09%09cbPopup%20%3D%20cbPopup.cloneNode%28true%29%3B%0A%09%09%09let%20id%20%3D%20%22-%22%20+%20this.button.id.match%28/%5Cd*%24/%29%5B0%5D%20+%20%22-cloned%22%3B%0A%09%09%09cbPopup.id%20+%3D%20id%3B%0A%09%09%09Array.prototype.slice.call%28cbPopup.getElementsByAttribute%28%22id%22%2C%20%22*%22%29%29.forEach%28function%28node%29%20%7B%0A%09%09%09%09node.id%20+%3D%20id%3B%0A%09%09%09%7D%29%3B%0A%09%09%09cbPopup.setAttribute%28%0A%09%09%09%09%22onpopupshowing%22%2C%0A%09%09%09%09%27%5C%0A%09%09%09%09var%20btn%20%3D%20document.popupNode%20%3D%20this.parentNode.parentNode.parentNode%3B%5Cn%5C%0A%09%09%09%09custombutton.setContextMenuVisibility%28btn%29%3B%27%0A%09%09%09%29%3B%0A%09%09%09let%20menu%20%3D%20mp.lastChild%3B%0A%09%09%09menu.appendChild%28cbPopup%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09setAutoRemove%3A%20function%28enable%29%20%7B%0A%09%09if%28enable%29%20%7B%0A%09%09%09this._forceEnableCleanup%20%3D%20true%3B%0A%09%09%09this.initCleanupTimer%28%29%3B%20//%20Ensure%20initialized%0A%09%09%7D%0A%09%09var%20timer%20%3D%20this.timer%20%7C%7C%20null%3B%0A%09%09if%28timer%29%0A%09%09%09timer.enabled%20%3D%20enable%3B%0A%09%7D%2C%0A%09_forceEnableCleanup%3A%20false%2C%0A%09initCleanupTimer%3A%20function%28%29%20%7B%0A%09%09if%28%21this.options.removeUnprotectedCookiesEnabled%20%26%26%20%21this._forceEnableCleanup%29%0A%09%09%09return%3B%0A%09%09var%20interval%20%3D%20this.options.removeUnprotectedCookiesInterval%3B%0A%09%09if%28interval%20%3C%3D%200%29%0A%09%09%09return%3B%0A%09%09var%20timerId%20%3D%20this.timerId%3B%0A%09%09var%20timer%20%3D%20this.timer%20%3D%20this.storage.get%28timerId%2C%20null%29%3B%0A%09%09if%28timer%29%0A%09%09%09return%3B%0A%09%09timer%20%3D%20this.timer%20%3D%20%7B%0A%09%09%09timerId%3A%20timerId%2C%0A%09%09%09interval%3A%20interval%2C%0A%09%09%09enabled%3A%20true%2C%0A%09%09%09permissions%3A%20this%2C%0A%09%09%09get%20timer%28%29%20%7B%0A%09%09%09%09delete%20this.timer%3B%0A%09%09%09%09return%20this.timer%20%3D%20Components.classes%5B%22@mozilla.org/timer%3B1%22%5D%0A%09%09%09%09%09.createInstance%28Components.interfaces.nsITimer%29%3B%0A%09%09%09%7D%2C%0A%09%09%09init%3A%20function%28%29%20%7B%0A%09%09%09%09window.addEventListener%28%22unload%22%2C%20this%2C%20false%29%3B%0A%09%09%09%09this.permissions.oSvc.addObserver%28this%2C%20%22quit-application-granted%22%2C%20false%29%3B%0A%09%09%09%09this.timer.init%28this%2C%20this.interval%2C%20this.timer.TYPE_REPEATING_SLACK%29%3B%0A%09%09%09%7D%2C%0A%09%09%09destroy%3A%20function%28%29%20%7B%0A%09%09%09%09this.permissions.oSvc.removeObserver%28this%2C%20%22quit-application-granted%22%29%3B%0A%09%09%09%09this.timer.cancel%28%29%3B%0A%09%09%09%09this.permissions.storage.set%28this.timerId%2C%20null%29%3B%0A%09%09%09%09this.permissions%20%3D%20null%3B%0A%09%09%09%7D%2C%0A%09%09%09handleEvent%3A%20function%28e%29%20%7B%0A%09%09%09%09if%28e.type%20%21%3D%20%22unload%22%29%0A%09%09%09%09%09return%3B%0A%09%09%09%09window.removeEventListener%28%22unload%22%2C%20this%2C%20false%29%3B%0A%09%09%09%09var%20p%20%3D%20this.permissions%3B%0A%09%09%09%09p.button%20%3D%20p.mp%20%3D%20null%3B%0A%09%09%09%7D%2C%0A%09%09%09observe%3A%20function%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09%09%09if%28topic%20%3D%3D%20%22quit-application-granted%22%29%0A%09%09%09%09%09this.destroy%28%29%3B%0A%09%09%09%09else%20if%28topic%20%3D%3D%20%22timer-callback%22%29%0A%09%09%09%09%09this.enabled%20%26%26%20this.permissions.removeUnprotectedCookies%28%29%3B%0A%09%09%09%7D%0A%09%09%7D%3B%0A%09%09this.storage.set%28timerId%2C%20timer%29%3B%0A%09%09timer.init%28%29%3B%0A%09%7D%2C%0A%09moveToStatusBar%3A%20function%28%29%20%7B%0A%09%09var%20insPoint%3B%0A%09%09this.options.moveToStatusBar.insertAfter%0A%09%09%09.split%28/%2C%5Cs*/%29%0A%09%09%09.some%28function%28id%29%20%7B%0A%09%09%09%09insPoint%20%3D%20document.getElementsByAttribute%28%22cb_id%22%2C%20id%29%5B0%5D%0A%09%09%09%09%09%7C%7C%20document.getElementById%28id%29%3B%0A%09%09%09%09return%20insPoint%3B%0A%09%09%09%7D%29%3B%0A%09%09if%28%21insPoint%29%0A%09%09%09return%3B%0A%0A%09%09var%20btn%20%3D%20this.button%3B%0A%09%09//%20Make%20%3Ctoolbarbutton%3E%20looks%20like%20%3Cimage%3E%2C%20see%20CSS%0A%09%09btn.className%20+%3D%20%22%20custombuttons-insideStatusbarpanel%22%3B%0A%09%09//%20And%20insert%20it%20into%20%3Cstatusbarpanel%3E%0A%09%09var%20spId%20%3D%20btn.id%20+%20%22-statusbarpanel%22%3B%0A%09%09var%20sp%20%3D%20document.getElementById%28spId%29%3B%0A%09%09sp%20%26%26%20sp.parentNode.removeChild%28sp%29%3B%0A%09%09sp%20%3D%20document.createElement%28%22statusbarpanel%22%29%3B%0A%09%09sp.id%20%3D%20spId%3B%0A%09%09sp.setAttribute%28%22cb_id%22%2C%20%22custombuttons-cookiesPermissionsSBPanel%22%29%3B%0A%09%09sp.appendChild%28btn%29%3B%0A%09%09insPoint.parentNode.insertBefore%28sp%2C%20insPoint.nextSibling%29%3B%0A%09%7D%2C%0A%0A%09get%20currentHost%28%29%20%7B%0A%09%09return%20this.getHostFromBrowser%28gBrowser%29%3B%0A%09%7D%2C%0A%09get%20currentHosts%28%29%20%7B%20//%20returns%20hosts%20from%20all%20visible%20tabs%20in%20all%20windows%0A%09%09var%20tmp%20%3D%20%7B%20__proto__%3A%20null%20%7D%3B%0A%09%09var%20ws%20%3D%20this.wm.getEnumerator%28%22navigator%3Abrowser%22%29%3B%0A%09%09while%28ws.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20gBrowser%20%3D%20ws.getNext%28%29.gBrowser%3B%0A%09%09%09let%20tabs%20%3D%20gBrowser.visibleTabs%20%7C%7C%20gBrowser.tabs%20%7C%7C%20gBrowser.tabContainer.childNodes%3B%0A%09%09%09for%28let%20i%20%3D%200%2C%20l%20%3D%20tabs.length%3B%20i%20%3C%20l%3B%20++i%29%20%7B%0A%09%09%09%09let%20browser%20%3D%20tabs%5Bi%5D.linkedBrowser%3B%0A%09%09%09%09let%20host%20%3D%20browser%20%26%26%20this.getHostFromBrowser%28browser%29%3B%0A%09%09%09%09if%28%21host%29%0A%09%09%09%09%09continue%3B%0A%09%09%09%09host%20%3D%20this.getHost%28this.options.useBaseDomain.preserveCurrentSitesCookies%2C%20host%29%3B%0A%09%09%09%09tmp%5Bhost%5D%20%3D%20true%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09var%20hosts%20%3D%20%5B%5D%3B%0A%09%09for%28var%20host%20in%20tmp%29%0A%09%09%09hosts.push%28host%29%3B%0A%09%09return%20hosts%3B%0A%09%7D%2C%0A%09getHostFromBrowser%3A%20function%28browser%29%20%7B%0A%09%09try%20%7B%0A%09%09%09var%20uri%20%3D%20browser.currentURI%3B%0A%09%09%09if%28%5B%22chrome%22%2C%20%22resource%22%5D.indexOf%28uri.scheme%29%20%21%3D%20-1%29%0A%09%09%09%09return%20%22%22%3B%0A%09%09%09return%20uri.host%3B%0A%09%09%7D%0A%09%09catch%28e%29%20%7B%0A%09%09%7D%0A%09%09return%20%22%22%3B%0A%09%7D%2C%0A%09get%20currentProtocol%28%29%20%7B%0A%09%09var%20scheme%20%3D%20gBrowser.currentURI.scheme%3B%0A%09%09if%28scheme%20%3D%3D%20%22https%22%29%0A%09%09%09return%20scheme%3B%0A%09%09return%20%22http%22%3B%0A%09%7D%2C%0A%09getHost%3A%20function%28useBaseDomain%2C%20host%29%20%7B%0A%09%09if%28host%20%3D%3D%3D%20undefined%29%0A%09%09%09host%20%3D%20this.currentHost%3B%0A%09%09switch%28useBaseDomain%29%20%7B%0A%09%09%09case%201%3A%20return%20this.stripWww%28host%29%3B%0A%09%09%09case%202%3A%20return%20this.getBaseDomain%28host%29%3B%0A%09%09%7D%0A%09%09return%20host%3B%0A%09%7D%2C%0A%09getURI%3A%20function%28host%2C%20protocol%29%20%7B%0A%09%09if%28host.indexOf%28%22%3A%22%29%20%21%3D%20-1%20%26%26%20/%5E%5B%3A%5Cda-f.%5D+%24/.test%28host%29%29%20//%20IPv6%0A%09%09%09host%20%3D%20%22%5B%22%20+%20host%20+%20%22%5D%22%3B%0A%09%09host%20%3D%20host.replace%28/%5E%5C./%2C%20%22%22%29%3B%0A%09%09try%20%7B%0A%09%09%09return%20this.io.newURI%28%28protocol%20%7C%7C%20this.currentProtocol%29%20+%20%22%3A//%22%20+%20host%2C%20null%2C%20null%29%3B%0A%09%09%7D%0A%09%09catch%28e%29%20%7B%0A%09%09%09Components.utils.reportError%28this.errPrefix%20+%20%22Invalid%20host%3A%20%5C%22%22%20+%20host%20+%20%22%5C%22%22%29%3B%0A%09%09%09throw%20e%3B%0A%09%09%7D%0A%09%7D%2C%0A%09stripWww%3A%20function%28host%29%20%7B%0A%09%09return%20host%20%26%26%20host.replace%28/%5Ewww%5C./i%2C%20%22%22%29%3B%0A%09%7D%2C%0A%09getBaseDomain%3A%20function%28host%29%20%7B%0A%09%09if%28host%29%20try%20%7B%0A%09%09%09return%20this.tld.getBaseDomainFromHost%28host%29%3B%0A%09%09%7D%0A%09%09catch%28e%29%20%7B%0A%09%09%7D%0A%09%09return%20host%3B%0A%09%7D%2C%0A%0A%09showMenu%3A%20function%28e%2C%20isContext%2C%20mp%29%20%7B%0A%09%09document.popupNode%20%3D%20this.button.ownerDocument.popupNode%20%3D%20this.button%3B%0A%09%09if%28%21mp%29%20%7B%0A%09%09%09this.initContextOnce%28%29%3B%0A%09%09%09mp%20%3D%20this.mp%3B%0A%09%09%7D%0A%09%09if%28%22openPopupAtScreen%22%20in%20mp%29%0A%09%09%09mp.openPopupAtScreen%28e.screenX%2C%20e.screenY%2C%20isContext%29%3B%0A%09%09else%0A%09%09%09mp.showPopup%28this%2C%20e.screenX%2C%20e.screenY%2C%20isContext%20%3F%20%22context%22%20%3A%20%22popup%22%2C%20null%2C%20null%29%3B%0A%09%7D%2C%0A%09updMenu%3A%20function%28%29%20%7B%0A%09%09var%20permission%20%3D%20this.options.showTempPermissions%0A%09%09%09%3F%20this.getPermissionEx%28%29%0A%09%09%09%3A%20this.getPermission%28%29%3B%0A%0A%09%09var%20noPermissions%20%3D%20permission%20%3D%3D%20this.PERMISSIONS_NOT_SUPPORTED%3B%0A%09%09Array.prototype.forEach.call%28%0A%09%09%09this.mp.getElementsByAttribute%28%22cb_permission%22%2C%20%22*%22%29%2C%0A%09%09%09function%28mi%29%20%7B%0A%09%09%09%09mi.hidden%20%3D%20noPermissions%3B%0A%09%09%09%09var%20ns%20%3D%20mi.nextSibling%3B%0A%09%09%09%09if%28ns%20%26%26%20ns.localName%20%3D%3D%20%22menuseparator%22%29%0A%09%09%09%09%09ns.hidden%20%3D%20noPermissions%3B%0A%09%09%09%7D%0A%09%09%29%3B%0A%0A%09%09if%28%21noPermissions%29%20%7B%0A%09%09%09let%20cbPermission%20%3D%20permission.capability%20%7C%7C%20permission%3B%0A%09%09%09if%28%0A%09%09%09%09this.options.showTempPermissions%0A%09%09%09%09%26%26%20permission%20instanceof%20Components.interfaces.nsIPermission%0A%09%09%09%09%26%26%20%22expireType%22%20in%20permission%0A%09%09%09%09%26%26%20permission.expireType%20%21%3D%20this.pm.EXPIRE_NEVER%0A%09%09%09%29%0A%09%09%09%09cbPermission%20+%3D%20%22-temp%22%3B%0A%09%09%09let%20mi%20%3D%20this.mp.getElementsByAttribute%28%22cb_permission%22%2C%20cbPermission%29%5B0%5D%20%7C%7C%20null%3B%0A%09%09%09mi%20%26%26%20mi.setAttribute%28%22checked%22%2C%20%22true%22%29%3B%0A%09%09%7D%0A%0A%09%09if%28this.hasTempPermissions%29%20%7B%0A%09%09%09let%20maxItems%20%3D%2010%3B%0A%09%09%09let%20removeItem%20%3D%20this.mp.getElementsByAttribute%28%22cb_id%22%2C%20%22removeTempPermissions%22%29%5B0%5D%3B%0A%09%09%09let%20tempPermissions%20%3D%20this.tempPermissions%3B%0A%09%09%09removeItem.disabled%20%3D%20%21tempPermissions.length%3B%0A%09%09%09if%28tempPermissions.length%20%3E%20maxItems%29%0A%09%09%09%09tempPermissions.splice%28maxItems%20-%202%2C%20tempPermissions.length%20-%20maxItems%20+%201%2C%20%22%u2026%22%29%3B%0A%09%09%09let%20cp%20%3D%20this.cp%3B%0A%09%09%09removeItem.tooltipText%20%3D%20tempPermissions.map%28function%28permission%29%20%7B%0A%09%09%09%09if%28typeof%20permission%20%3D%3D%20%22string%22%29%0A%09%09%09%09%09return%20permission%3B%0A%09%09%09%09var%20action%20%3D%20%22%3F%3F%3F%22%3B%0A%09%09%09%09switch%28permission.capability%29%20%7B%0A%09%09%09%09%09case%20cp.ACCESS_ALLOW%3A%20%20%20action%20%3D%20%22allowLabel%22%3B%20%20%20%20%20%20%20%20break%3B%0A%09%09%09%09%09case%20cp.ACCESS_DENY%3A%20%20%20%20action%20%3D%20%22denyLabel%22%3B%20%20%20%20%20%20%20%20%20break%3B%0A%09%09%09%09%09case%20cp.ACCESS_SESSION%3A%20action%20%3D%20%22allowSessionLabel%22%3B%0A%09%09%09%09%7D%0A%09%09%09%09return%20%28permission.host%20%7C%7C%20permission.principal.URI.spec.replace%28/%5C/%24/%2C%20%22%22%29%29%0A%09%09%09%09%09+%20%22%3A%20%22%20+%20_localize%28action%29.toLowerCase%28%29%3B%0A%09%09%09%7D%2C%20this%29.join%28%22%2C%20%5Cn%22%29%3B%0A%09%09%7D%0A%0A%09%09var%20removeCurrent%20%3D%20this.mp.getElementsByAttribute%28%22cb_id%22%2C%20%22removeCurrentSiteCookies%22%29%5B0%5D%3B%0A%09%09removeCurrent.hidden%20%3D%20noPermissions%3B%0A%09%09if%28%21noPermissions%29%0A%09%09%09removeCurrent.tooltipText%20%3D%20this.removeCurrentSiteCookiesHost%3B%0A%0A%09%09var%20timer%20%3D%20this.timer%20%7C%7C%20null%3B%0A%09%09var%20autoRemove%20%3D%20this.mp.getElementsByAttribute%28%22cb_id%22%2C%20%22autoRemoveUnprotectedCookies%22%29%5B0%5D%3B%0A%09%09autoRemove.setAttribute%28%22checked%22%2C%20timer%20%3F%20timer.enabled%20%3A%20false%29%3B%0A%09%09autoRemove.hidden%20%3D%20this.options.removeUnprotectedCookiesInterval%20%3C%3D%200%3B%0A%0A%09%09return%20true%3B%0A%09%7D%2C%0A%0A%09openPermissions%3A%20function%28%29%20%7B%0A%09%09var%20host%20%3D%20this.getHost%28this.options.useBaseDomain.openPermissions%29%3B%0A%09%09if%28host%20%26%26%20this.platformVersion%20%3E%3D%2042%29%0A%09%09%09host%20%3D%20this.currentProtocol%20+%20%22%3A//%22%20+%20host%3B%0A%0A%09%09if%28this.app.name%20%3D%3D%20%22SeaMonkey%22%29%20%7B%0A%09%09%09this.openPermissionsSM%28host%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%0A%09%09//%20chrome%3A//browser/content/preferences/privacy.js%0A%09%09//%20gPrivacyPane.showCookieExceptions%28%29%0A%09%09var%20bundle%20%3D%20Components.classes%5B%22@mozilla.org/intl/stringbundle%3B1%22%5D%0A%09%09%09.getService%28Components.interfaces.nsIStringBundleService%29%0A%09%09%09.createBundle%28%22chrome%3A//browser/locale/preferences/preferences.properties%22%29%3B%0A%09%09try%20%7B%0A%09%09%09var%20cpTitle%20%3D%20bundle.GetStringFromName%28%22cookiepermissionstitle%22%29%3B%0A%09%09%09var%20cpText%20%3D%20bundle.GetStringFromName%28%22cookiepermissionstext%22%29%3B%0A%09%09%7D%0A%09%09catch%28e%29%20%7B%20//%20Not%20used%20in%20Firefox%2062+%0A%09%09%7D%0A%09%09var%20params%20%3D%20%7B%20blockVisible%20%20%20%3A%20true%2C%0A%09%09%09%09%09%20%20%20sessionVisible%20%3A%20true%2C%0A%09%09%09%09%09%20%20%20allowVisible%20%20%20%3A%20true%2C%0A%09%09%09%09%09%20%20%20prefilledHost%20%20%3A%20host%2C%0A%09%09%09%09%09%20%20%20permissionType%20%3A%20this.permissionType%2C%0A%09%09%09%09%09%20%20%20windowTitle%20%20%20%20%3A%20cpTitle%2C%0A%09%09%09%09%09%20%20%20introText%20%20%20%20%20%20%3A%20cpText%20%7D%3B%0A%0A%09%09var%20win%3B%0A%09%09var%20ws%20%3D%20this.wm.getEnumerator%28%22Browser%3APermissions%22%29%3B%0A%09%09while%28ws.hasMoreElements%28%29%29%20%7B%0A%09%09%09win%20%3D%20ws.getNext%28%29%3B%0A%09%09%09if%28%0A%09%09%09%09this.options.reusePermissionsWindow%0A%09%09%09%09%7C%7C%20%22gPermissionManager%22%20in%20win%20%26%26%20win.gPermissionManager._type%20%3D%3D%20this.permissionType%0A%09%09%09%29%0A%09%09%09%09break%3B%0A%09%09%09win%20%3D%20null%3B%0A%09%09%7D%0A%0A%09%09var%20_this%20%3D%20this%3B%0A%09%09var%20setFilter%20%3D%20function%20setFilter%28e%29%20%7B%0A%09%09%09e%20%26%26%20win.removeEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09_this.setTextboxValue%28win.document.getElementById%28%22url%22%29%2C%20host%2C%20%21%21e%29%3B%0A%09%09%09%7D%2C%200%29%3B%0A%09%09%7D%3B%0A%09%09if%28win%29%20%7B%0A%09%09%09//%20See%20%3Cmethod%20name%3D%22openWindow%22%3E%20in%20chrome%3A//global/content/bindings/preferences.xml%23prefwindow%0A%09%09%09if%28%22initWithParams%22%20in%20win%29%0A%09%09%09%09win.initWithParams%28params%29%3B%0A%09%09%09win.focus%28%29%3B%0A%09%09%09host%20%26%26%20setFilter%28%29%3B%0A%09%09%7D%0A%09%09else%20%7B%0A%09%09%09var%20ext%20%3D%20this.platformVersion%20%3E%3D%2072%20%3F%20%22.xhtml%22%20%3A%20%22.xul%22%3B%0A%09%09%09win%20%3D%20window.openDialog%28%22chrome%3A//browser/content/preferences/permissions%22%20+%20ext%2C%20%22_blank%22%2C%20%22%22%2C%20params%29%3B%0A%09%09%09host%20%26%26%20win.addEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%7D%0A%0A%09%09this.tweakWindow%28win%29%3B%0A%09%7D%2C%0A%09openPermissionsSM%3A%20function%28host%29%20%7B%0A%09%09var%20win%20%3D%20this.wm.getMostRecentWindow%28%22mozilla%3Acookieviewer%22%29%3B%0A%09%09var%20_this%20%3D%20this%3B%0A%09%09if%28%21host%29%0A%09%09%09host%20%3D%20%22%22%3B%0A%09%09var%20setFilter%20%3D%20function%20setFilter%28e%29%20%7B%0A%09%09%09e%20%26%26%20win.removeEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%09var%20doc%20%3D%20win.document%3B%0A%09%09%09doc.getElementById%28%22tabbox%22%29.selectedTab%20%3D%20doc.getElementById%28%22permissionsTab%22%29%3B%0A%09%09%09_this.setTextboxValue%28doc.getElementById%28%22cookie-site%22%29%2C%20host%29%3B%0A%09%09%7D%3B%0A%09%09if%28win%29%20%7B%0A%09%09%09win.focus%28%29%3B%0A%09%09%09setFilter%28%29%3B%0A%09%09%7D%0A%09%09else%20%7B%0A%09%09%09win%20%3D%20window.openDialog%28%22chrome%3A//communicator/content/permissions/cookieViewer.xul%22%2C%20%22_blank%22%2C%20%22%22%29%3B%0A%09%09%09win.addEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09tweakWindow%3A%20function%28win%29%20%7B%0A%09%09if%28%22__cbPermissionsTweaked%22%20in%20win%29%0A%09%09%09return%3B%0A%09%09win.__cbPermissionsTweaked%20%3D%20true%3B%0A%09%09function%20keypressHandler%28e%29%20%7B%0A%09%09%09if%28e.keyCode%20%3D%3D%20e.DOM_VK_ESCAPE%29%0A%09%09%09%09win.close%28%29%3B%0A%09%09%7D%0A%09%09win.addEventListener%28%22keypress%22%2C%20keypressHandler%2C%20false%29%3B%0A%09%09win.addEventListener%28%22unload%22%2C%20function%20destroy%28e%29%20%7B%0A%09%09%09var%20win%20%3D%20e.target.defaultView%3B%0A%09%09%09if%28win%20%21%3D%20e.currentTarget%29%0A%09%09%09%09return%3B%0A%09%09%09win.removeEventListener%28e.type%2C%20destroy%2C%20false%29%3B%0A%09%09%09win.removeEventListener%28%22keypress%22%2C%20keypressHandler%2C%20false%29%3B%0A%09%09%7D%2C%20false%29%3B%0A%09%7D%2C%0A%09setTextboxValue%3A%20function%28tb%2C%20val%2C%20onlySelect%29%20%7B%0A%09%09if%28%21tb%29%0A%09%09%09return%3B%0A%09%09if%28%21onlySelect%29%0A%09%09%09tb.value%20%3D%20val%3B%0A%09%09tb.focus%28%29%3B%0A%09%09if%28val%20%26%26%20%22inputField%22%20in%20tb%29%20%7B%0A%09%09%09let%20ifi%20%3D%20tb.inputField%3B%0A%09%09%09switch%28this.options.prefillMode%29%20%7B%0A%09%09%09%09case%200%3A%20ifi.selectionStart%20%3D%20ifi.selectionEnd%20%3D%200%3B%20%20%20%20%20%20%20%20%20%20break%3B%0A%09%09%09%09case%202%3A%20ifi.selectionStart%20%3D%20ifi.selectionEnd%20%3D%20val.length%3B%20break%3B%0A%09%09%09%09default%3A%20tb.select%28%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09if%28onlySelect%29%0A%09%09%09return%3B%0A%09%09setTimeout%28function%28%29%20%7B%20//%20For%20Browser%3ACookies%20in%20Firefox%2014%0A%09%09%09tb.doCommand%28%29%3B%20//%20Should%20be%20faster%20than%20%22input%22%20emulation%0A%09%09%7D%2C%200%29%3B%0A%09%09var%20evt%20%3D%20document.createEvent%28%22UIEvents%22%29%3B%0A%09%09evt.initUIEvent%28%22input%22%2C%20true%2C%20true%2C%20tb.ownerDocument.defaultView%2C%200%29%3B%0A%09%09tb.dispatchEvent%28evt%29%3B%0A%09%7D%2C%0A%0A%09get%20hasTempPermissions%28%29%20%7B%0A%09%09delete%20this.hasTempPermissions%3B%0A%09%09return%20this.hasTempPermissions%20%3D%20%22EXPIRE_SESSION%22%20in%20this.pm%0A%09%09%09%26%26%20%28%21%28%22add%22%20in%20this.pm%29%20%7C%7C%20this.pm.add.length%20%3E%203%29%3B%0A%09%7D%2C%0A%09get%20pmw%28%29%20%7B%0A%09%09delete%20this.pmw%3B%0A%09%09var%20pm%20%3D%20this.pm%3B%0A%09%09if%28%22testPermission%22%20in%20pm%29%20%7B%0A%09%09%09return%20this.pmw%20%3D%20%7B%0A%09%09%09%09testPermission%3A%20pm.testPermission.bind%28pm%29%2C%0A%09%09%09%09add%3A%20%20%20%20%20%20%20%20%20%20%20%20pm.add%20%20%20%20%20%20%20%20%20%20%20.bind%28pm%29%2C%0A%09%09%09%09remove%3A%20%20%20%20%20%20%20%20%20pm.remove%20%20%20%20%20%20%20%20.bind%28pm%29%2C%0A%09%09%09%09__proto__%3A%20pm%0A%09%09%09%7D%3B%0A%09%09%7D%0A%09%09//%20Firefox%2071+%0A%09%09var%20make%20%3D%20function%28fn%29%20%7B%0A%09%09%09return%20function%28uri%2C%20permission%29%20%7B%0A%09%09%09%09var%20principal%20%3D%20Services.scriptSecurityManager.createContentPrincipal%28uri%2C%20%7B%7D%29%3B%0A%09%09%09%09var%20args%20%3D%20Array.from%28arguments%29%3B%0A%09%09%09%09args%5B0%5D%20%3D%20principal%3B%0A%09%09%09%09return%20fn.apply%28pm%2C%20args%29%3B%0A%09%09%09%7D%3B%0A%09%09%7D%3B%0A%09%09return%20this.pmw%20%3D%20%7B%0A%09%09%09_context%3A%20this%2C%0A%09%09%09testPermission%3A%20make%28pm.testPermissionFromPrincipal%29%2C%0A%09%09%09add%3A%20%20%20%20%20%20%20%20%20%20%20%20make%28pm.addFromPrincipal%29%2C%0A%09%09%09remove%3A%20%20%20%20%20%20%20%20%20make%28pm.removeFromPrincipal%29%2C%0A%09%09%09get%20enumerator%28%29%20%7B%20//%20Firefox%2072+%0A%09%09%09%09return%20pm.enumerator%20%7C%7C%20this._context.arrayToEnumerator%28pm.all%29%3B%0A%09%09%09%7D%0A%09%09%7D%3B%0A%09%7D%2C%0A%09arrayToEnumerator%3A%20function%28arr%29%20%7B%0A%09%09var%20i%20%3D%200%2C%20l%20%3D%20arr.length%3B%0A%09%09return%20%7B%0A%09%09%09hasMoreElements%3A%20function%28%29%20%7B%0A%09%09%09%09return%20i%20%3C%20l%3B%0A%09%09%09%7D%2C%0A%09%09%09getNext%3A%20function%28%29%20%7B%0A%09%09%09%09return%20arr%5Bi++%5D%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09addPermission%3A%20function%28capability%2C%20temporary%29%20%7B%0A%09%09//%20capability%3A%0A%09%09//%20%20this.cp.ACCESS_ALLOW%20%28this.pm.ALLOW_ACTION%29%0A%09%09//%20%20this.cp.ACCESS_SESSION%0A%09%09//%20%20this.cp.ACCESS_DENY%20%28this.pm.DENY_ACTION%29%0A%0A%09%09var%20host%20%3D%20this.getHost%28this.options.useBaseDomain.addPermission%29%3B%0A%09%09if%28%21host%29%0A%09%09%09return%3B%0A%0A%09%09if%28temporary%20%26%26%20%21this.hasTempPermissions%29%0A%09%09%09temporary%20%3D%20false%3B%0A%09%09this.updButtonState%28capability%29%3B%20//%20Faster%20than%20ProgressListener%20%2870-80%20ms%20for%20me%29%0A%0A%09%09if%28this.hasTempPermissions%29%0A%09%09%09this.removePermissionForHost%28host%29%3B%0A%0A%09%09var%20pm%20%3D%20this.pm%3B%0A%09%09var%20args%20%3D%20%5Bthis.getURI%28host%29%2C%20this.permissionType%2C%20capability%5D%3B%0A%09%09if%28temporary%29%20%7B%0A%09%09%09let%20expire%20%3D%20this.options.tempExpire%3B%0A%09%09%09if%28expire%20%3C%200%29%0A%09%09%09%09args.push%28pm.EXPIRE_SESSION%29%3B%0A%09%09%09else%0A%09%09%09%09args.push%28pm.EXPIRE_TIME%2C%20expire%20+%20Date.now%28%29%29%3B%0A%09%09%7D%0A%09%09this.pmw.add.apply%28this.pmw%2C%20args%29%3B%0A%09%7D%2C%0A%09removePermission%3A%20function%28%29%20%7B%0A%09%09var%20host%20%3D%20this.currentHost%3B%0A%09%09if%28%21host%29%0A%09%09%09return%3B%0A%0A%09%09this.updButtonState%28this.cp.ACCESS_DEFAULT%29%3B%20//%20Faster%20than%20ProgressListener%20%2870-80%20ms%20for%20me%29%0A%0A%09%09var%20uri%20%3D%20this.getURI%28host%29%3B%0A%09%09var%20permission%20%3D%20this.pmw.testPermission%28uri%2C%20this.permissionType%29%3B%0A%09%09this.removePermissionForHost%28host%29%3B%0A%09%09while%28this.pmw.testPermission%28uri%2C%20this.permissionType%29%20%3D%3D%20permission%29%20%7B%0A%09%09%09let%20parentHost%20%3D%20host.replace%28/%5E%5B%5E.%5D*%5C./%2C%20%22%22%29%3B%0A%09%09%09if%28parentHost%20%3D%3D%20host%29%0A%09%09%09%09break%3B%0A%09%09%09host%20%3D%20parentHost%3B%0A%09%09%09this.removePermissionForHost%28host%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09togglePermission%3A%20function%28capabilities%29%20%7B%0A%09%09var%20permission%20%3D%20this.getPermissionEx%28this.getHost%28this.options.useBaseDomain.addPermission%29%2C%20true%29%3B%0A%09%09if%28permission%20instanceof%20Components.interfaces.nsIPermission%29%0A%09%09%09permission%20%3D%20permission.capability%3B%0A%09%09if%28permission%20%3D%3D%20this.PERMISSIONS_NOT_SUPPORTED%29%0A%09%09%09return%3B%0A%09%09var%20capability%20%3D%20capabilities%5B%28capabilities.indexOf%28permission%29%20+%201%29%20%25%20capabilities.length%5D%3B%0A%0A%09%09if%28capability%20%3D%3D%20this.cp.ACCESS_DEFAULT%29%0A%09%09%09this.removePermission%28%29%3B%0A%09%09else%0A%09%09%09this.addPermission%28capability%29%3B%0A%09%7D%2C%0A%09get%20tempPermissions%28%29%20%7B%0A%09%09var%20out%20%3D%20%5B%5D%3B%0A%09%09if%28%21this.hasTempPermissions%29%0A%09%09%09return%20out%3B%0A%09%09var%20pm%20%3D%20this.pm%3B%0A%09%09var%20enumerator%20%3D%20this.pmw.enumerator%3B%0A%09%09while%28enumerator.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20permission%20%3D%20enumerator.getNext%28%29%0A%09%09%09%09.QueryInterface%28Components.interfaces.nsIPermission%29%3B%0A%09%09%09if%28%0A%09%09%09%09permission.type%20%3D%3D%20this.permissionType%0A%09%09%09%09%26%26%20permission.expireType%20%21%3D%20pm.EXPIRE_NEVER%0A%09%09%09%29%0A%09%09%09%09out.push%28permission%29%3B%0A%09%09%7D%0A%09%09return%20out%3B%0A%09%7D%2C%0A%09removeTempPermissions%3A%20function%28%29%20%7B%0A%09%09this.tempPermissions.forEach%28this.removeRawPermission%2C%20this%29%3B%0A%09%7D%2C%0A%09getPermission%3A%20function%28%29%20%7B%0A%09%09var%20host%20%3D%20this.currentHost%3B%0A%09%09return%20host%0A%09%09%09%3F%20this.pmw.testPermission%28this.getURI%28host%29%2C%20this.permissionType%29%0A%09%09%09%3A%20this.PERMISSIONS_NOT_SUPPORTED%3B%0A%09%7D%2C%0A%09getPermissionEx%3A%20function%28host%2C%20dontGetInherited%29%20%7B%0A%09%09//%20Unfortunately%20no%20API%20like%20nsIPermissionManager.testPermission%28%29%0A%09%09//%20for%20temporary%20permissions%0A%09%09if%28%21host%29%0A%09%09%09host%20%3D%20this.currentHost%3B%0A%09%09if%28%21host%29%0A%09%09%09return%20this.PERMISSIONS_NOT_SUPPORTED%3B%0A%09%09var%20pm%20%3D%20this.pm%3B%0A%09%09var%20matchedPermission%20%3D%20pm.UNKNOWN_ACTION%3B%0A%09%09var%20protocol%20%3D%20this.currentProtocol%3B%0A%09%09var%20maxHostLen%20%3D%20-1%3B%0A%09%09var%20enumerator%20%3D%20this.pmw.enumerator%3B%0A%09%09while%28enumerator.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20permission%20%3D%20enumerator.getNext%28%29%0A%09%09%09%09.QueryInterface%28Components.interfaces.nsIPermission%29%3B%0A%09%09%09if%28permission.type%20%21%3D%20this.permissionType%29%0A%09%09%09%09continue%3B%0A%09%09%09if%28%22principal%22%20in%20permission%20%26%26%20permission.principal.URI.scheme%20%21%3D%20protocol%29%20//%20Firefox%2042+%0A%09%09%09%09continue%3B%0A%09%09%09let%20permissionHost%20%3D%20this.getPermissionHost%28permission%29%3B%0A%09%09%09if%28permissionHost%20%3D%3D%20host%29%0A%09%09%09%09return%20permission%3B%0A%09%09%09if%28dontGetInherited%29%0A%09%09%09%09continue%3B%0A%09%09%09let%20hostLen%20%3D%20permissionHost.length%3B%0A%09%09%09if%28%0A%09%09%09%09hostLen%20%3E%20maxHostLen%0A%09%09%09%09%26%26%20host.substr%28-hostLen%20-%201%29%20%3D%3D%20%22.%22%20+%20permissionHost%20//%20%7E%3D%20checkCookieHost%28%29%0A%09%09%09%29%20%7B%0A%09%09%09%09matchedPermission%20%3D%20permission%3B%0A%09%09%09%09maxHostLen%20%3D%20hostLen%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09return%20matchedPermission%3B%0A%09%7D%2C%0A%09removePermissionForHost%3A%20function%28host%29%20%7B%0A%09%09try%20%7B%0A%09%09%09this.pmw.remove%28host%2C%20this.permissionType%29%3B%0A%09%09%7D%0A%09%09catch%28e%29%20%7B%0A%09%09%09//%20See%20https%3A//bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1170200%0A%09%09%09if%28%22Services%22%20in%20window%29%20try%20%7B%20//%20Firefox%2042+%0A%09%09%09%09let%20uri%20%3D%20Services.io.newURI%28this.currentProtocol%20+%20%22%3A//%22%20+%20host%2C%20null%2C%20null%29%3B%0A%09%09%09%09this.pmw.remove%28uri%2C%20this.permissionType%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09catch%28e2%29%20%7B%0A%09%09%09%09Components.utils.reportError%28e2%29%3B%0A%09%09%09%7D%0A%09%09%09Components.utils.reportError%28e%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09removeRawPermission%3A%20function%28permission%29%20%7B%0A%09%09if%28%22principal%22%20in%20permission%29%20//%20Firefox%2042+%0A%09%09%09this.pmw.remove%28permission.principal.URI%2C%20this.permissionType%29%3B%0A%09%09else%0A%09%09%09this.removePermissionForHost%28permission.host%29%3B%0A%09%7D%2C%0A%09getPermissionHost%3A%20function%28permission%29%20%7B%0A%09%09if%28%22host%22%20in%20permission%29%0A%09%09%09return%20permission.host%3B%0A%09%09//%20See%20https%3A//bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1173523%0A%09%09return%20permission.principal.URI.host%3B%20//%20Firefox%2042+%0A%09%7D%2C%0A%09get%20defaultPermission%28%29%20%7B%0A%09%09//%20http%3A//kb.mozillazine.org/Network.cookie.cookieBehavior%0A%09%09//%20http%3A//kb.mozillazine.org/Network.cookie.lifetimePolicy%0A%09%09if%28this.prefs.cookieBehavior%20%3D%3D%202%29%0A%09%09%09return%20this.cp.ACCESS_DENY%3B%0A%09%09if%28this.prefs.lifetimePolicy%20%3D%3D%202%29%0A%09%09%09return%20this.cp.ACCESS_SESSION%3B%0A%09%09return%20this.cp.ACCESS_ALLOW%3B%0A%09%7D%2C%0A%09showCookiesEvent%3A%20function%28e%29%20%7B%0A%09%09if%28e.type%20%3D%3D%20%22command%22%29%0A%09%09%09this.showCookies%28this.hasModifier%28e%29%29%3B%0A%09%09else%20if%28e.type%20%3D%3D%20%22click%22%20%26%26%20e.button%20%3D%3D%201%29%20%7B%0A%09%09%09this.mp.hidePopup%28%29%3B%0A%09%09%09this.showCookies%28true%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09showCookies%3A%20function%28showAll%29%20%7B%0A%09%09var%20host%20%3D%20showAll%20%3F%20%22%22%20%3A%20this.getHost%28this.options.useBaseDomain.showCookies%29%3B%0A%09%09if%28%22coomanPlus%22%20in%20window%20%26%26%20%22coomanPlusCore%22%20in%20window%20%26%26%20this.options.useCookiesManagerPlus%29%20%7B%0A%09%09%09//%20https%3A//addons.mozilla.org/firefox/addon/cookies-manager-plus/%0A%09%09%09this.showCookiesCMP%28host%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09if%28this.app.name%20%3D%3D%20%22SeaMonkey%22%29%20%7B%0A%09%09%09this.showCookiesSM%28host%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09if%28this.app.name%20%3D%3D%20%22Firefox%22%20%26%26%20parseFloat%28this.app.version%29%20%3E%3D%2061%29%20%7B%0A%09%09%09this.showSiteData%28host%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09var%20win%20%3D%20this.wm.getMostRecentWindow%28%22Browser%3ACookies%22%29%3B%0A%09%09var%20_this%20%3D%20this%3B%0A%09%09var%20setFilter%20%3D%20function%20setFilter%28e%29%20%7B%0A%09%09%09e%20%26%26%20win.removeEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%09_this.setTextboxValue%28win.document.getElementById%28%22filter%22%29%2C%20host%29%3B%0A%09%09%7D%3B%0A%09%09if%28win%29%20%7B%0A%09%09%09win.focus%28%29%3B%0A%09%09%09%28host%20%7C%7C%20showAll%29%20%26%26%20setFilter%28%29%3B%0A%09%09%7D%0A%09%09else%20%7B%0A%09%09%09win%20%3D%20window.openDialog%28%22chrome%3A//browser/content/preferences/cookies.xul%22%2C%20%22_blank%22%2C%20%22%22%29%3B%0A%09%09%09host%20%26%26%20win.addEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%7D%0A%09%09this.tweakWindow%28win%29%3B%0A%09%7D%2C%0A%09showCookiesCMP%3A%20function%28host%29%20%7B%0A%09%09//%20See%20openCMP%28%29%20function%20in%20resource%3A//cookiesmanagerplus/coomanPlusCore.jsm%0A%09%09var%20win%20%3D%20coomanPlusCore.aWindow%3B%0A%09%09var%20_this%20%3D%20this%3B%0A%09%09var%20setFilter%20%3D%20function%20setFilter%28e%29%20%7B%0A%09%09%09e%20%26%26%20win.removeEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%09var%20doc%20%3D%20win.document%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%20//%20Just%20loaded%20window%20aren%27t%20ready%0A%09%09%09%09_this.setTextboxValue%28doc.getElementById%28%22lookupcriterium%22%29%2C%20host%29%3B%0A%09%09%09%7D%2C%200%29%3B%0A%09%09%7D%3B%0A%09%09if%28win%29%20%7B%0A%09%09%09win.focus%28%29%3B%0A%09%09%09host%20%26%26%20setFilter%28%29%3B%0A%09%09%7D%0A%09%09else%20%7B%0A%09%09%09win%20%3D%20window.openDialog%28%0A%09%09%09%09%22chrome%3A//cookiesmanagerplus/content/cookiesmanagerplus.xul%22%2C%0A%09%09%09%09%22coomanPlusWindow%22%2C%20%22chrome%2Cresizable%3Dyes%2Ctoolbar%3Dno%2Cstatusbar%3Dno%2Cscrollbar%3Dno%2Ccenterscreen%22%0A%09%09%09%29%3B%0A%09%09%09host%20%26%26%20win.addEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09showCookiesSM%3A%20function%28host%29%20%7B%0A%09%09var%20win%20%3D%20this.wm.getMostRecentWindow%28%22mozilla%3Acookieviewer%22%29%3B%0A%09%09var%20_this%20%3D%20this%3B%0A%09%09if%28%21host%29%0A%09%09%09host%20%3D%20%22%22%3B%0A%09%09var%20setFilter%20%3D%20function%20setFilter%28e%29%20%7B%0A%09%09%09e%20%26%26%20win.removeEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%09var%20doc%20%3D%20win.document%3B%0A%09%09%09doc.getElementById%28%22tabbox%22%29.selectedTab%20%3D%20doc.getElementById%28%22cookiesTab%22%29%3B%0A%09%09%09_this.setTextboxValue%28doc.getElementById%28%22filter%22%29%2C%20host%29%3B%0A%09%09%7D%3B%0A%09%09if%28win%29%20%7B%0A%09%09%09win.focus%28%29%3B%0A%09%09%09setFilter%28%29%3B%0A%09%09%7D%0A%09%09else%20%7B%0A%09%09%09win%20%3D%20window.openDialog%28%22chrome%3A//communicator/content/permissions/cookieViewer.xul%22%2C%20%22_blank%22%2C%20%22%22%29%3B%0A%09%09%09win.addEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09showSiteData%3A%20function%28host%29%20%7B%0A%09%09var%20win%20%3D%20this.wm.getMostRecentWindow%28%22Browser%3ASiteDataSettings%22%29%3B%0A%09%09var%20_this%20%3D%20this%3B%0A%09%09var%20setFilter%20%3D%20function%20setFilter%28e%29%20%7B%0A%09%09%09e%20%26%26%20win.removeEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%09_this.setTextboxValue%28win.document.getElementById%28%22searchBox%22%29%2C%20host%29%3B%0A%09%09%7D%3B%0A%09%09if%28win%29%20%7B%0A%09%09%09win.focus%28%29%3B%0A%09%09%09host%20%26%26%20setFilter%28%29%3B%0A%09%09%7D%0A%09%09else%20%7B%0A%09%09%09var%20%7BSiteDataManager%7D%20%3D%20Components.utils.import%28%22resource%3A///modules/SiteDataManager.jsm%22%2C%20%7B%7D%29%3B%0A%09%09%09SiteDataManager.updateSites%28%29.then%28function%28%29%20%7B%0A%09%09%09%09var%20ext%20%3D%20_this.platformVersion%20%3E%3D%2072%20%3F%20%22.xhtml%22%20%3A%20%22.xul%22%3B%0A%09%09%09%09win%20%3D%20window.openDialog%28%22chrome%3A//browser/content/preferences/siteDataSettings%22%20+%20ext%2C%20%22_blank%22%2C%20%22%22%29%3B%0A%09%09%09%09host%20%26%26%20win.addEventListener%28%22load%22%2C%20setFilter%2C%20false%29%3B%0A%09%09%09%7D%2C%20Components.utils.reportError%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09confirm%3A%20function%28msg%2C%20method/*%2C%20arg1%2C%20arg2*/%29%20%7B%0A%09%09if%28%0A%09%09%09%21this.options.confirmRemoval%0A%09%09%09%7C%7C%20Components.classes%5B%22@mozilla.org/embedcomp/prompt-service%3B1%22%5D%0A%09%09%09%09.getService%28Components.interfaces.nsIPromptService%29%0A%09%09%09%09.confirm%28window%2C%20_localize%28%22Cookies%20Permissions%22%29%2C%20_localize%28msg%29%29%0A%09%09%29%0A%09%09%09this%5Bmethod%5D.apply%28this%2C%20Array.prototype.slice.call%28arguments%2C%202%29%29%3B%0A%09%7D%2C%0A%09removeUnprotectedCookies%3A%20function%28removeAll%29%20%7B%0A%09%09if%28removeAll%20%3D%3D%20undefined%29%0A%09%09%09removeAll%20%3D%20this.options.removeAllUnprotectedCookies%3B%0A%09%09var%20cp%20%3D%20this.cp%3B%0A%09%09var%20checkCookieHosts%3B%0A%09%09if%28%21removeAll%29%20%7B%0A%09%09%09let%20hosts%20%3D%20this.currentHosts%3B%0A%09%09%09let%20checkCookieHost%20%3D%20this.checkCookieHost%3B%0A%09%09%09checkCookieHosts%20%3D%20function%28cookieHost%29%20%7B%0A%09%09%09%09return%20%21hosts.some%28function%28host%29%20%7B%0A%09%09%09%09%09return%20checkCookieHost%28cookieHost%2C%20host%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%3B%0A%09%09%7D%0A%09%09this.removeCookies%28%5B%0A%09%09%09cp.ACCESS_DEFAULT%2C%0A%09%09%09/*cp.ACCESS_ALLOW%2C*/%0A%09%09%09cp.ACCESS_DENY%2C%0A%09%09%09cp.ACCESS_SESSION%0A%09%09%5D%2C%20checkCookieHosts%29%3B%0A%09%7D%2C%0A%09get%20removeCurrentSiteCookiesHost%28%29%20%7B%0A%09%09return%20this.getHost%28this.options.useBaseDomain.removeCurrentSiteCookies%29%3B%0A%09%7D%2C%0A%09removeCurrentSiteCookies%3A%20function%28%29%20%7B%0A%09%09var%20host%20%3D%20this.removeCurrentSiteCookiesHost%3B%0A%09%09var%20checkCookieHost%20%3D%20this.checkCookieHost%3B%0A%09%09this.removeCookies%28null%2C%20function%28cookieHost%29%20%7B%0A%09%09%09return%20checkCookieHost%28cookieHost%2C%20host%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%09checkCookieHost%3A%20function%28cookieHost%2C%20host%29%20%7B%0A%09%09var%20fn%20%3D%20this.checkCookieHost%20%3D%20%22endsWith%22%20in%20String.prototype%20//%20Firefox%2017+%0A%09%09%09%3F%20function%28cookieHost%2C%20host%29%20%7B%0A%09%09%09%09return%20host%20%3D%3D%20cookieHost%0A%09%09%09%09%09%7C%7C%20cookieHost.endsWith%28%22.%22%20+%20host%29%3B%0A%09%09%09%7D%0A%09%09%09%3A%20function%28cookieHost%2C%20host%29%20%7B%0A%09%09%09%09return%20host%20%3D%3D%20cookieHost%0A%09%09%09%09%09%7C%7C%20cookieHost.substr%28-host.length%20-%201%29%20%3D%3D%20%22.%22%20+%20host%3B%0A%09%09%09%7D%3B%0A%09%09return%20fn%28cookieHost%2C%20host%29%3B%0A%09%7D%2C%0A%09removeCookies%3A%20function%28types%2C%20checkHost%29%20%7B%0A%09%09var%20cm%20%3D%20this.cm%3B%0A%09%09var%20pm%20%3D%20this.pm%3B%0A%09%09var%20cookies%20%3D%20cm.enumerator%20%7C%7C%20this.arrayToEnumerator%28cm.cookies%29%3B%20//%20Firefox%2073+%0A%09%09while%28cookies.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20cookie%20%3D%20cookies.getNext%28%29%0A%09%09%09%09.QueryInterface%28Components.interfaces.nsICookie%29%3B%0A%09%09%09let%20cookieHost%20%3D%20cookie.host%3B%0A%09%09%09if%28checkHost%20%26%26%20%21checkHost%28cookieHost%29%29%0A%09%09%09%09continue%3B%0A%09%09%09if%28types%29%20%7B%0A%09%09%09%09//%20Trick%20for%20Firefox%2042+%2C%20assumed%20pm.UNKNOWN_ACTION%20%3D%3D%200%0A%09%09%09%09let%20permission%20%3D%20this.pmw.testPermission%28this.getURI%28cookieHost%2C%20%22http%22%29%2C%20this.permissionType%29%0A%09%09%09%09%09%7C%7C%20this.pmw.testPermission%28this.getURI%28cookieHost%2C%20%22https%22%29%2C%20this.permissionType%29%3B%0A%09%09%09%09if%28types.indexOf%28permission%29%20%3D%3D%20-1%29%0A%09%09%09%09%09continue%3B%0A%09%09%09%7D%0A%09%09%09if%28%22testPermission%22%20in%20pm%29%0A%09%09%09%09cm.remove%28cookieHost%2C%20cookie.name%2C%20cookie.path%2C%20false%2C%20cookie.originAttributes%20%7C%7C%20undefined%29%3B%0A%09%09%09else%20//%20Firefox%2071+%0A%09%09%09%09cm.remove%28cookieHost%2C%20cookie.name%2C%20cookie.path%2C%20cookie.originAttributes%20%7C%7C%20undefined%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09updButtonState%3A%20function%28permission%29%20%7B%0A%09%09var%20ttAdd%20%3D%20%22%22%3B%0A%09%09if%28permission%20%3D%3D%3D%20undefined%29%20try%20%7B%0A%09%09%09permission%20%3D%20this.getPermission%28%29%3B%0A%09%09%7D%0A%09%09catch%28e%29%20%7B%20//%20See%20this.getURI%28%29%0A%09%09%09Components.utils.reportError%28e%29%3B%0A%09%09%09ttAdd%20%3D%20%22%20%5Cn%22%20+%20e%3B%0A%09%09%09permission%20%3D%20this.PERMISSIONS_ERROR%3B%0A%09%09%7D%0A%09%09var%20cp%20%3D%20this.cp%3B%0A%09%09var%20key%3B%0A%09%09switch%28permission%29%20%7B%0A%09%09%09case%20cp.ACCESS_DEFAULT%3A%0A%09%09%09%09key%20%3D%20%22default%22%3B%0A%09%09%09%09if%28this.options.showDefaultPolicy%29%20switch%28this.defaultPermission%29%20%7B%0A%09%09%09%09%09case%20cp.ACCESS_ALLOW%3A%20%20%20%20%20%20%20%20key%20%3D%20%22defaultAllow%22%3B%20%20%20%20%20%20%20%20break%3B%0A%09%09%09%09%09case%20cp.ACCESS_DENY%3A%20%20%20%20%20%20%20%20%20key%20%3D%20%22defaultDeny%22%3B%20%20%20%20%20%20%20%20%20break%3B%0A%09%09%09%09%09case%20cp.ACCESS_SESSION%3A%20%20%20%20%20%20key%20%3D%20%22defaultAllowSession%22%3B%0A%09%09%09%09%7D%0A%09%09%09break%3B%0A%09%09%09case%20cp.ACCESS_ALLOW%3A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20%22allow%22%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%09%09%09case%20cp.ACCESS_DENY%3A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20%22deny%22%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%09%09%09case%20cp.ACCESS_SESSION%3A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20%22allowSession%22%3B%20%20%20%20%20%20%20%20break%3B%0A%09%09%09case%20this.PERMISSIONS_NOT_SUPPORTED%3A%20key%20%3D%20%22notAvailable%22%3B%20%20%20%20%20%20%20%20break%3B%0A%09%09%09case%20this.PERMISSIONS_ERROR%3A%20%20%20%20%20%20%20%20%20key%20%3D%20%22error%22%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%09%09%09default%3A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20%22unknown%22%3B%0A%09%09%7D%0A%09%09var%20btn%20%3D%20this.button%3B%0A%09%09if%28btn.getAttribute%28%22cb_cookies%22%29%20%3D%3D%20key%29%0A%09%09%09return%3B%0A%09%09btn.disabled%20%3D%20permission%20%3D%3D%20this.PERMISSIONS_NOT_SUPPORTED%3B%0A%09%09btn.setAttribute%28%22cb_cookies%22%2C%20key%29%3B%0A%09%09btn.tooltipText%20%3D%20_localize%28key%20+%20%22Tooltiptext%22%29%20+%20ttAdd%3B%0A%09%7D%2C%0A%0A%09hasModifier%3A%20function%28e%29%20%7B%0A%09%09return%20e.ctrlKey%20%7C%7C%20e.shiftKey%20%7C%7C%20e.altKey%20%7C%7C%20e.metaKey%3B%0A%09%7D%2C%0A%09parseXULFromString%3A%20function%28xul%29%20%7B%0A%09%09xul%20%3D%20xul.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%0A%09%09try%20%7B%0A%09%09%09return%20new%20DOMParser%28%29.parseFromString%28xul%2C%20%22application/xml%22%29.documentElement%3B%0A%09%09%7D%0A%09%09catch%28e%29%20%7B%0A%09%09%09//%20See%20http%3A//custombuttons.sourceforge.net/forum/viewtopic.php%3Ff%3D5%26t%3D3720%0A%09%09%09//%20+%20https%3A//forum.mozilla-russia.org/viewtopic.php%3Fpid%3D732243%23p732243%0A%09%09%09var%20dummy%20%3D%20document.createElement%28%22dummy%22%29%3B%0A%09%09%09dummy.innerHTML%20%3D%20xul.trimLeft%28%29%3B%0A%09%09%09return%20dummy.firstChild%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09get%20storage%28%29%20%7B%0A%09%09delete%20this.storage%3B%0A%09%09if%28%21%28%22Services%22%20in%20window%29%29%20//%20Firefox%203.6%20and%20older%0A%09%09%09return%20this.storage%20%3D%20Application.storage%3B%0A%09%09//%20Simple%20replacement%20for%20Application.storage%0A%09%09//%20See%20https%3A//bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1090880%0A%09%09//var%20global%20%3D%20Components.utils.getGlobalForObject%28Services%29%3B%0A%09%09//%20Ensure%2C%20that%20we%20have%20global%20object%20%28because%20window.Services%20may%20be%20overwritten%29%0A%09%09var%20global%20%3D%20Components.utils.import%28%22resource%3A//gre/modules/Services.jsm%22%2C%20%7B%7D%29%3B%0A%09%09var%20ns%20%3D%20%22_cbCookiesPermissionsStorage%22%3B%0A%09%09var%20storage%20%3D%20global%5Bns%5D%20%7C%7C%20%28global%5Bns%5D%20%3D%20Components.utils.getGlobalForObject%28global%29.Object.create%28null%29%29%3B%0A%09%09return%20this.storage%20%3D%20%7B%0A%09%09%09get%3A%20function%28key%2C%20defaultVal%29%20%7B%0A%09%09%09%09if%28key%20in%20storage%29%0A%09%09%09%09%09return%20storage%5Bkey%5D%3B%0A%09%09%09%09return%20defaultVal%3B%0A%09%09%09%7D%2C%0A%09%09%09set%3A%20function%28key%2C%20val%29%20%7B%0A%09%09%09%09if%28key%20%3D%3D%3D%20null%29%0A%09%09%09%09%09delete%20storage%5Bkey%5D%3B%0A%09%09%09%09else%0A%09%09%09%09%09storage%5Bkey%5D%20%3D%20val%3B%0A%09%09%09%7D%0A%09%09%7D%3B%0A%09%7D%0A%7D%3B%0A%0A//%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A//%20Styles%0A//%20Used%20Fugue%20and%20Diagona%20icons%20%28http%3A//p.yusukekamiyamane.com/%29%0A%0A//%20Styles%20can%27t%20override%20hardcoded%20icon%0Avar%20icon%20%3D%20this.icon%0A%09%7C%7C%20this.ownerDocument.getAnonymousElementByAttribute%28this%2C%20%22class%22%2C%20%22toolbarbutton-icon%22%29%3B%0Aif%28icon%29%0A%09icon.src%20%3D%20%22%22%3B%0Aelse%0A%09this.image%20%3D%20%22%22%3B%0A%0Avar%20cssStr%20%3D%20%28%27%5C%0A%09@namespace%20url%28%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%29%3B%5Cn%5C%0A%09@-moz-document%20url%28%22%27%20+%20window.location.href%20+%20%27%22%29%20%7B%5Cn%5C%0A%09%09%25button%25%20%7B%5Cn%5C%0A%09%09%09list-style-image%3A%20url%28%22data%3Aimage/png%3Bbase64%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%3D%3D%22%29%20%21important%3B%5Cn%5C%0A%09%09%09-moz-image-region%3A%20rect%280%2C%2016px%2C%2016px%2C%200%29%20%21important%3B%5Cn%5C%0A%09%09%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22default%22%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%280%2C%2016px%2C%2016px%2C%200%29%20%20%20%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22allow%22%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%280%2C%2032px%2C%2016px%2C%2016px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22allowSession%22%5D%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%280%2C%2048px%2C%2016px%2C%2032px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22deny%22%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%280%2C%2064px%2C%2016px%2C%2048px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22unknown%22%5D%2C%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22error%22%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%280%2C%2080px%2C%2016px%2C%2064px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22notAvailable%22%5D%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%280%2C%2096px%2C%2016px%2C%2080px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22defaultAllow%22%5D%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%2816px%2C%2032px%2C%2032px%2C%2016px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22defaultAllowSession%22%5D%20%7B%20-moz-image-region%3A%20rect%2816px%2C%2048px%2C%2032px%2C%2032px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09%25button%25%5Bcb_cookies%3D%22defaultDeny%22%5D%20%20%20%20%20%20%20%20%20%7B%20-moz-image-region%3A%20rect%2816px%2C%2064px%2C%2032px%2C%2048px%29%20%21important%3B%20%7D%5Cn%5C%0A%09%09/*%20%22moveToStatusBar%22%20option%20*/%5Cn%5C%0A%09%09%25button%25.custombuttons-insideStatusbarpanel%20%7B%5Cn%5C%0A%09%09%09-moz-appearance%3A%20none%20%21important%3B%5Cn%5C%0A%09%09%09border%3A%20none%20%21important%3B%5Cn%5C%0A%09%09%09margin%3A%200%20%21important%3B%5Cn%5C%0A%09%09%09padding%3A%200%20%21important%3B%5Cn%5C%0A%09%09%09min-width%3A%200%20%21important%3B%5Cn%5C%0A%09%09%09max-width%3A%20none%20%21important%3B%5Cn%5C%0A%09%09%7D%5Cn%5C%0A%09%09%25button%25.custombuttons-insideStatusbarpanel%20%3E%20.toolbarbutton-icon%20%7B%5Cn%5C%0A%09%09%09margin%3A%200%20%21important%3B%5Cn%5C%0A%09%09%09padding%3A%200%20%21important%3B%5Cn%5C%0A%09%09%7D%5Cn%5C%0A%09%09%25button%25.custombuttons-insideStatusbarpanel%20%3E%20.toolbarbutton-text%20%7B%5Cn%5C%0A%09%09%09display%3A%20none%20%21important%3B%5Cn%5C%0A%09%09%7D%5Cn%5C%0A%09%09%25button%25%20.cbTempPermission%20%7B%5Cn%5C%0A%09%09%09font-style%3A%20italic%20%21important%3B%5Cn%5C%0A%09%09%09/*-moz-padding-start%3A%200.7em%20%21important%3B*/%5Cn%5C%0A%09%09%7D%5Cn%5C%0A%09%7D%27%29%0A%09.replace%28/%25button%25/g%2C%20%22%23%22%20+%20this.id%29%3B%0Avar%20cssURI%20%3D%20this.cssURI%20%3D%20Components.classes%5B%22@mozilla.org/network/io-service%3B1%22%5D%0A%09.getService%28Components.interfaces.nsIIOService%29%0A%09.newURI%28%22data%3Atext/css%2C%22%20+%20encodeURIComponent%28cssStr%29%2C%20null%2C%20null%29%3B%0Avar%20sss%20%3D%20this.sss%20%3D%20Components.classes%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D%0A%09.getService%28Components.interfaces.nsIStyleSheetService%29%3B%0Aif%28%21sss.sheetRegistered%28cssURI%2C%20sss.USER_SHEET%29%29%0A%09sss.loadAndRegisterSheet%28cssURI%2C%20sss.USER_SHEET%29%3B%0A%0A%0Athis.onDestroy%20%3D%20function%28reason%29%20%7B%0A%09if%28reason%20%3D%3D%20%22update%22%20%7C%7C%20reason%20%3D%3D%20%22delete%22%29%20%7B%0A%09%09let%20sss%20%3D%20this.sss%3B%0A%09%09let%20cssURI%20%3D%20this.cssURI%3B%0A%09%09if%28sss.sheetRegistered%28cssURI%2C%20sss.USER_SHEET%29%29%0A%09%09%09sss.unregisterSheet%28cssURI%2C%20sss.USER_SHEET%29%3B%0A%09%09if%28this.permissions.timer%29%0A%09%09%09this.permissions.timer.destroy%28%29%3B%0A%09%7D%0A%09this.permissions.destroy%28%29%3B%0A%7D%3B%0Athis.permissions.init%28%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%20//%20Button%27s%20hotkey%20pressed%0A%09this.click%28%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E"
>Install</a>
| <a href="https://github.com/Infocatcher/Custom_Buttons/tree/master/Cookies_Permissions">Source</a>
| <a href="https://github.com/Infocatcher/Custom_Buttons#usage">Instructions</a>
<script type="text/javascript">
var a = document.getElementsByTagName("a")[0];
a.title = document.title;
if(/%3Cimage%3E%3C%21%5BCDATA%5B(data%3A\S+)%5D%5D%3E%3C\/image%3E/.test(a.href)) {
	var icon = decodeURIComponent(RegExp.$1);

	var img = document.createElement("img");
	img.src = icon;
	img.alt = "";
	img.style.verticalAlign = "middle";
	img.style.marginRight = "4px";
	img.style.border = "none";
	a.insertBefore(img, a.firstChild);

	var link = document.createElement("link");
	link.rel = "shortcut icon";
	link.href = icon;
	document.documentElement.insertBefore(link, document.documentElement.firstChild);
}
</script>
<script type="text/javascript" src="https://infocatcher.github.io/Custom_Buttons/viewCustomButton.js"></script>
<script type="text/javascript">
if("viewCustomButtonCode" in window) setTimeout(function() {
	viewCustomButtonCode(a.href);
}, 0);
</script>
</body>